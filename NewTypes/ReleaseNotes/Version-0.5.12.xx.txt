Version 0.5.12.xx consists of the following Builds:


Build #2233 -- Version 0.5.12.xx
--------------------------------

* Change Beta Version To Untested And List All Such Categories
* Define New Tag <_mark>...</_mark> To Mark A Digit Specially

Directory branches/bsmith/NewTypes/htdocs/download:

DOWNLOAD-BODY.PHP:
DOWNLOAD-LEFT.PHP:
  Change Beta Version to Untested and list all such categories.


Directory branches/bsmith/NewTypes/MediaWiki/extensions:

RENDERAPL.PHP:
  Define new tag <_mark>...</_mark> to mark a digit specially.


Build #2231 -- Version 0.5.12.xx
--------------------------------

* Fix Parser Bug With Double Free With Index Coalescing
* Fix Parser Bug With "A FR"

Directory branches/bsmith/NewTypes:

PARSELINE.C:
  In <plRedNAM_ISPA>, if the call to <CoalesceIdx_EM> fails, zap the curried index
    as it has already been freed by <CoalesceIdx_EM>.
  In <PARSELINE_REDUCE:>, detect "A FR" and fail softly.  This should be made to work.


Build #2229 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In NAMETYPE assigned to TKT_OPJOTDOT

Directory branches/bsmith/NewTypes:

ASSIGN.C:
  In <GetNameType> the token TKT_OPJOTDOT is incorrectly categorized as NAMETYPE_FN12; it should be NAMETYPE_OP1.


Build #2227 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In Display Of A Character Vector Including TCNLs, Part II

Directory branches/bsmith/NewTypes:

DISPLAY.C:
  In <DisplayGlbArr_EM>, where raw output occurs, rename vars to be like in <CheckTermCodes>.
  In <DisplayGlbVector>, fix bug introduced in the last build where I used the wrong var name.
  Improve comments.


Build #2225 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In Display Of A Character Vector Including TCNLs

Directory branches/bsmith/NewTypes:

DISPLAY.C:
  When displaying a character vector involving TCNLs, after looping through all items, we terminate the result at the wrong place possibly losing the tail.


Build #2223 -- Version 0.5.12.xx
--------------------------------

* Tweak Numerical Differentiation Operator

Directory branches/bsmith/NewTypes:

PO_DERIV.C:
PO_DERIV.H:
PO_DERIV_FLT.C:
PO_DERIV_VFP.C:
  Minor tweaks in preparation for Ball Arithmetic support.


Build #2221 -- Version 0.5.12.xx
--------------------------------

* Implement Numerical Differentiation Operator

Directory branches/bsmith/NewTypes:

AFOFNS.C:
QF_NC.C:
  Remove {delta} and {deltaunderbar} from alphabetic characters.

APLERRORS.H:
ENUMS.H:
  Define new error message "DEPTH ERROR".

ASSIGN.C:
  In IF/WHILE stmts always compare ptr against NULL and value against 0.
  In <ModifyAssignNamedVars_EM>, if the valued being assign is a Global Numeric,
    don't free the old value.

COMMON.C:
  Define new function to save a global numeric into global memory.

COMPRO.H:
  Include three new files.

EXECFNS.C:
  Handle new monadic operator.

EXECMFN.H:
  Define shortcut name for Deriative operator symbol string.

GETFNS.C:
  Define new function to extract a VFP item from a token.

HEADERS.H:
  Include new header in global list.

MAKEFILE.INC:
MAKEFILE.SRC:
NARS2000.VCXPROJ:
NARS2000.VCXPROJ.FILTERS:
  Include new files in global lists.

MPFNS.C:
  Define new MPFR helper functions.

PO_DERIV.C:
PO_DERIV.H:
PO_DERIV_FLT.C:
PO_DERIV_VFP.C:
  New files to implement Numerical Differentiation operator.

PO_VARIANT.C:
PO_VARIANT.H:
  Define Variant operator on ND operator.

REBAR.C:
  Document ND operator in Language Bar.
  Remove {delta} and {deltaunderbar} from alphabetic characters.

SYSVARS.H:
  Define upper and lower limits for new variables.

TOKENIZE.C:
  Remove {delta} and {deltaunderbar} from alphabetic characters.
  Implement Numerical Differentiation operator.

UNICODE.H:
  Implement Numerical Differentiation operator.

WCOM.BAT:
  Improve comments.


Build #2219 -- Version 0.5.12.xx
--------------------------------

* Validate The Incoming Value For The Variant Operator

Directory branches/bsmith/NewTypes:

MPFNS.C:
  Fix bug in <mpfr_mod_sx> using the wrong rounding mode.

PO_VARIANT.C:
  Validate the value to be used for a System Variable.

REBAR.C:
  Fix typos in Language Bar text.


Build #2217 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In Dyadic Reduction When Promoting From INT To FLT

Directory branches/bsmith/NewTypes:

PO_SLASH.C:
  In <PrimOpDydSlashCommon_EM_YY>, when saving a APLFLOAT result that has been promoted from INT To FLT, the wrong index is used.


Build #2215 -- Version 0.5.12.xx
--------------------------------

* Extend Output Debugging To CR and LF
* Fix Bug In Displaying VFP Numbers With All Digits

Directory branches/bsmith/NewTypes:

CUSTOMIZE.C:
DEFINES.H:
EXTERNS.H:
MAIN.RC:
RESOURCE.H:
  Define a new checkbox for "Except CR & LF" for Output Debugging.

DISPLAY.C:
  In <DisplayGlbArr_EM>, <FormatImmedFC>, and <CheckTermCodes> when
    displaying character arrays with Output Debugging ON,
    handle ASCII characters below a space.
  In <FormatAplVfpFC>, handle # signifcant digits of 0 as all digits.

INIFILE.C:
  Read in and write out the new User Preference.


Build #2213 -- Version 0.5.12.xx
--------------------------------

* Miscellaneous DEBUG Changes

Directory branches/bsmith/NewTypes:

PF_LSHOE.C:
  In <PrimFnMonLeftShoeGlb_EM_YY>, lock the Weighting Vector with LockInt instead of Lock000 in case the vector is short.

YYFNS.C:
  In <YYAlloc>, re-arrange the code so that <lpFileName and <uLineNum> are always copied to the YYSTYPE.


Build #2211 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In Pick (Dyadic Right Shoe) When Encountering Global Numerics
* Fix Bug In Pick (Dyadic Right Shoe) When Recursing Through A Nested Right Arg

Directory branches/bsmith/NewTypes:

PF_RSHOE.C:
  In <PrimFnDydRightShoeGlbGlb_EM_YY>, when deciding on whether a global memory handle
    is a var, check the low-order bit (PTRTYPE_STCONST vs. PTRTYPE_HGLOBAL).
  In <PrimFnDydRightShoeGlbGlb_EM_YY>, when recursing through the right arg, ensure it's still
    nested before continuing to the next item.


Build #2209 -- Version 0.5.12.xx
--------------------------------

* Implement 4 []DR To Separate Rational Number Numerators And Denominators

Directory branches/bsmith/NewTypes:

QF_DR.C:
QF_DR.H:
  Implement 4 []DR.
  In IF/WHILE stmts always compare ptr against NULL and value against 0.


Build #2207 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In MemberOf When Comparing Scalar Global Numerics

Directory branches/bsmith/NewTypes:

PF_EPSILON.C:
  In <PrimFnDydEpsilonOther_EM>, improve the test for a scalar to handle global numerics.


Build #2205 -- Version 0.5.12.xx
--------------------------------

* Fix Memory Leaks
* Disallow "A FR" In A Train

Directory branches/bsmith/NewTypes:

PARSELINE.C:
  In <CoalesceIdx_EM>, YYFree the old result even if the current result is invalid.
  In <PARSELINE_ERROR>, free the current object's currys even if it's a Fcn/Var/Opr.

PARSELINE.H:
  Remove the reduction "A FR -> AFR" as it is not recognized in a Train.


Build #2203 -- Version 0.5.12.xx
--------------------------------

* Fix Missing Prefix In DieresisJot Magic Functions

Directory branches/bsmith/NewTypes:

MF_DIJOT.H:
  Include missing prefix for all local symbols.


Build #2201 -- Version 0.5.12.xx
--------------------------------

* Change Order Of Copy/Paste Context Menus

Directory branches/bsmith/NewTypes:

CUSTOMIZE.C:
  Change the order of the entries in the Copy and Paste context menus so {braces}
    always appears last.


Build #2199 -- Version 0.5.12.xx
--------------------------------

* Synch With Version Control


Build #2197 -- Version 0.5.12.xx
--------------------------------

* Changes In Preparation For Hyperators

Directory branches/bsmith/NewTypes:

FH_PARSE.H:
  Correct mis-numbering.
  Include new entries for <steDel> and <steDelDel> in preparation for Hyperators.
  Change item in <tagFH_YYSTYPE> from <List> to <ListAny> so it can searched for without false positive.

FH_PARSE.Y:
  Re-format LALR text for better readability.
  Define new parameter to <GetOprName> in preparation for Hyperators.
  Define more DEBUG statements.

FH_PROC.C:
  Define more DEBUG statements.
  Define new parameter to <GetOprName> in preparation for Hyperators.


Build #2195 -- Version 0.5.12.xx
--------------------------------

* Define Copy Command To Use LF As Line Ending Instead Of CR/LF

Directory branches/bsmith/NewTypes:

CUSTOMIZE.C:
  Include "LF as EOL" in  table of Copy command menu items.
  Fix bugs in <UniTransStr> table.

EDIT.RCH:
  Include "LF as EOL" in  table of Copy command menu items.

EDITFCN.C:
  Handle new "LF as EOL" menu Copy command menu item selection.
  In IF/WHILE stmts always compare ptr against NULL and value against 0.
  In <CopyAPLChars_EM>, enforce "LF as EOL" by deleting the CR before a LF.

MAIN.C:
  Include menu item "LF as EOL" in Copy command.
  Handle new "LF as EOL" menu Copy command menu item selection.

RESOURCE.H:
  Define resource ID for new menu item.

UNITRANSHDR.H
  Include new translation choice for Copy.

UNITRANSTAB.H
  Include new column in <uniTransTab> for new menu choice.

Directory branches/bsmith/NewTypes/WineHQ:

EDITCTRL.C:
  Handle new "LF as EOL" menu Copy command menu item selection.


Build #2193 -- Version 0.5.12.xx
--------------------------------

* Miscellaneous DEBUG Changes

Directory branches/bsmith/NewTypes:

DEBUG.C:
  Remove scrollbars from outer DEBUG window.

EDITFCN.C:
  DEBUG changes in <SyntaxColor>.


Build #2191 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In Variant Operator With Pochhammer k-Symbol

Directory branches/bsmith/NewTypes:

PO_VARIANT.C:
  Fix bug in Variant operator with Pochhammer k-Symbol (Rising and Falling Factorials).


Build #2189 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In Monadic Equal (Dimension Function) On Character Arguments

Directory branches/bsmith/NewTypes:

PF_EQUAL.C:
  Fix bug in Monadic Equal (Dimension function) where it allows character arguments, but should signal a DOMAIN ERROR.


Build #2187 -- Version 0.5.12.xx
--------------------------------

* Pickup More Cases For Modified Assignment

Directory branches/bsmith/NewTypes:

TOKENIZE.C:
  In <fnAsnDone>, continue searching for the target name(s) after encountering functions or operators.


Build #2185 -- Version 0.5.12.xx
--------------------------------

* Pickup More Cases For Modified Indexed Assignment

Directory branches/bsmith/NewTypes:

PARSELINE.C:
  After PARSELINE_SCAN, if the Syntax Objects are "IDX F [MOP|DOP]" and the
    binding strength of (IDX, F) < (F, MOP) so that the above sequence
    evaluates "F MOP" first.

PARSELINE.H:
  Change the binding strength between NAM and HY so that (NAM, HY) < (HY, MOP)
    so that "NAM HY MOP" evaluates "HY MOP" first.


Build #2183 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In []DFT When Reusing HC2I as HC2F

Directory branches/bsmith/NewTypes:

QF_DFT.C:
  Improve comments.
  Save the new result storage type if reusing HC2I as HC2F.


Build #2181 -- Version 0.5.12.xx
--------------------------------

* Implement []FC[7] For Complex Number Display Separator
* Make Numeric Display More Sensitive To []FC

Directory branches/bsmith/NewTypes:

CONVERT.C:
  In <ConvertToFloat>, include parameter of index into the argument.

CUSTOMIZE.C:
  Change []FC display from Radio Buttons to ComboBox and Edit Ctrl.

DATATYPE.H:
  Note that changes to <VARARRAY_HEADER> need to be reflected elsewhere.

DEFINES.H:
  Delete enum as means of specifying the default value for []FC[7].

DISPDBG.C:
  Change default Decimal Separator, Negative Sign, and Overflow Fill to the appropriate value from []FC.

DISPLAY.C:
  Change default Decimal Separator, Negative Sign, and Overflow Fill to the appropriate value from []FC.
  Change enum for Complex Number Display Separator to actual WCHARs.
  Use separate flag for Magnitude and Angle parts of Polar display form.
  Save and restore entire []FC around )SAVE, )COPY, )LOAD, and []TF so those conversions always use the defaults.

ENUMS.H:
  Change enum for Complex Number Display Separator to actual WCHARs.

EXECMFN.H:
  Define short name for long form []FC.

EXTERNS.H:
  Improve comments.
  Define more []FC attributes.
  Change []FC display from Radio Buttons to ComboBox and Edit Ctrl.

FMTSPEC.C:
  Explain why []FMT isn't sensitive to []FC.

GETFNS.C:
  In <ConvertToFloat>, include parameter of index into the argument.

HC_PROC.C:
  Change enum for Complex Number Display Separator to actual WCHARs.

INIFILE.C:
MAIN.RC:
  Change []FC display from Radio Buttons to ComboBox and Edit Ctrl.

PF_DTACKJOT.C:
  Rename <Auto> to <bAuto> to reflect its datatype.
  In IF/WHILE stmts always compare ptr against NULL and value against 0.
  Change default Decimal Separator, Negative Sign, and Overflow Fill to the appropriate value from []FC.

PN_PARSE.H:
  Define various constants w.r.t. []FC.

QF_TF.C:
  Save and restore entire []FC around )SAVE, )COPY, )LOAD, and []TF so those conversions always use the defaults.
  Change default Decimal Separator, Negative Sign, and Overflow Fill to the appropriate value from []FC.

RESOURCE.H:
  Change []FC display from Radio Buttons to ComboBox and Edit Ctrl.

SC_COPY.C:
SC_LOAD.C:
SC_SAVE.H:
  Save and restore entire []FC around )SAVE, )COPY, )LOAD, and []TF so those conversions always use the defaults.

SC_SAVE.C:
  Save and restore entire []FC around )SAVE, )COPY, )LOAD, and []TF so those conversions always use the defaults.
  )SAVE the original value of []FC.
  Change default Decimal Separator, Negative Sign, and Overflow Fill to the appropriate value from []FC.

SYSVARS.C:
  In <ValidateCharVector_EM>, handle []FC specially.
  Define <ValidNdxFC> to validate changes to []FC.

SYSVARS.H:
  Define individual names for []FC items.

TYPEMOTE.C:
  Handle conversions from HETERO/NESTED to BOOL, INT, and FLT for Global Numerics.


Build #2179 -- Version 0.5.12.xx
--------------------------------

* Implement Chained Guards In Anonymous Functions/Operators

Directory branches/bsmith/NewTypes:

AFOFNS.C:
  In <AfoGuard>, if the Cond is FALSE, skip over all adjacent AFOGUARD statements.

TOKENIZE.C:
  In <fnClnDone>, allow Chained Guard statements.


Build #2177 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In Display Of VFP Numbers

Directory branches/bsmith/NewTypes:

DISPLAY.C:
  In <FormatAplVfpFC>, calculate the # significant digits separately for large and small numbers.


Build #2175 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In Dyadic Squad With Scalar Axis

Directory branches/bsmith/NewTypes:

MF_SQUAD.H:
  Fix bug in Dyadic Squad with scalar Axis.


Build #2173 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In System Command With No Tail

Directory branches/bsmith/NewTypes:

SC_COMMON.C:
  In IF/WHILE stmts always compare ptr against NULL and value against 0.
  Include "Hdr" In Name Of Result Of <MyGlobalLock>.

SYSCMDS.C:
  Fix bug with System Command with no following argument.


Build #2171 -- Version 0.5.12.xx
--------------------------------

* Document Complex Angle Notation In Language Bar

Directory branches/bsmith/NewTypes:

REBAR.H:
  Document Complex Angle Notation in the Language Bar.


Build #2169 -- Version 0.5.12.xx
--------------------------------

* Fix Typo In Mesh Magic Function

Directory branches/bsmith/NewTypes:

MF_JOT.H:
  Fix typo in Mesh Magic Function -- missing $ adornments.


Build #2167 -- Version 0.5.12.xx
--------------------------------

* Miscellaneous DEBUG Changes

Directory branches/bsmith/NewTypes:

ASSIGN.C:
  Move stmt into inner nesting.

HC_PROC.C:
  Initialize RAT and VFP local vars before initializing.

SC_DEBUG.C:
  Reorder macro calls as they are order dependent.


Build #2165 -- Version 0.5.12.xx
--------------------------------

* Implement 'ah' Point Notation
* Allow All Input Point Notations As Output Forms

Directory branches/bsmith/NewTypes:

CUSTOMIZE.C:
DEFINES.H:
DISPLAY.C:
ENUMS.H:
EXTERNS.H:
HC_PROC.C:
INIFILE.C:
MAIN.RC:
MPFNS.C:
PN_PARSE.H:
PN_PARSE.Y:
PN_PROC.C:
RESOURCE.H:
SC_COPY.C:
SC_LOAD.C:
SC_SAVE.C:
TOKENIZE.C:
  Implement 'ah' Point Notation.
  Allow all input Point Notations as output forms.


Directory branches/bsmith/NewTypes/mediawiki/extensions:

RENDERAPL.PHP:
  Implement 'ah' Point Notation
  Allow all input Point Notations as output forms.


Build #2163 -- Version 0.5.12.xx
--------------------------------

* Implement Mask And Mesh

Directory branches/bsmith/NewTypes:

EXECMFN.C:
EXECMFN.H:
MF_JOT.H:
PO_JOT.C:
  Implement Mask and Mesh.


Build #2161 -- Version 0.5.12.xx
--------------------------------

* Fix Bug In Dyadic Squad With Scalar Left Argument And Explicit Axis

Directory branches/bsmith/NewTypes:

MF_SQUAD.H:
  Fix bug in Dyadic Squad with scalar left argument and an explicit axis.


Build #2159 -- Version 0.5.12.xx
--------------------------------

* Fix Bug When Assigning System Function To A Name

Directory branches/bsmith/NewTypes:

SC_LOAD.C:
  Fix bug when assigning System Function (FcnDir) as in (say) f{is}{quad}NL.


Build #2157 -- Version 0.5.12.xx
--------------------------------

* Fix Bug Which Fails To Display A Name Which Is A FcnDir

Directory branches/bsmith/NewTypes:

SC_FNOV.C:
  Fix bug which fails to display a name from (say) f{is}{quad}NL.

VER.RC:
  Increment version # to 0.5.12.xx.
