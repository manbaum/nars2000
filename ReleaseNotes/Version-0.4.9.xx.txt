Version 0.4.9.xx consists of the following Builds:


Build #1268 -- Version 0.4.9.xx
-------------------------------

* Fix Bug In Syntax Coloring Of Line Labels With Spaces

Directory trunk:

TOKENIZE.C:
  In <scClnDone>, handle spaces between the line label and the separating colon.


Build #1267 -- Version 0.4.9.xx
-------------------------------

* Fix Bugs In Syntax Analyzer

Directory trunk:

PARSELINE.C:
  In variout <plRedXX_XX> functions, also change immediate type and Syntax Object of current symbol.
  Omit spurious comment.
  Fix bug if freeing function on the stack in the process of stranding.
  Fix bug when )RESETting.

STARTADDR.H:
  Delete unused functions.

STRAND.C:
  In <MakeFcnStrand_EM_YY>, test for Stranding flag and clear it.
  Delete unused functions.

YYFNS.C:
  Make test in DEBUG statement explicit.
  Delete unused functions.


Build #1266 -- Version 0.4.9.xx
-------------------------------

* Fix Bug When Comparing Storage Types To Detect Blow Up

Directory trunk:

GETFNS.C:
  Improve comments.

PF_INDEX.C:
PO_JOTDOT.C:
PO_SLASH.C:
PO_SLOPE.C:
  When comparing APL storage types to detect blow up, use <aTypePromote> as indexed by the storage types.


Build #1265 -- Version 0.4.9.xx
-------------------------------

* Fix Bugs In Syntax Analyzer

Directory trunk:

PARSELINE.C:
  In <plRedF_HY>, <plRedA_HY>, <plRedDOP_HY>, <plRedJ_HY>, and <plRedF_HY>, also change immediate type and Syntax Object of Hybrid symbol.
  Re-order code for easier debugging.
  In <_pl_yylex>, delete unnecessary comment.
  Set Syntax Object for named vars as they aren't set elsewhere.


Build #1264 -- Version 0.4.9.xx
-------------------------------

* Miscellaneous DEBUG Changes

Directory trunk:

COMMON.C:
  Update copyright year.
  Use simpler code instead of the conditional syntax (a?b:c).

DISPDBG.C:
  In <DisplayTokens>, also display the Syntax Object.


Build #1263 -- Version 0.4.9.xx
-------------------------------

* Fix Bug In Treatment of Name In For Statement

Directory trunk:

PARSELINE.C:
  Fix comment about reloading <lstSynObj>.
  In <_pl_yylex>, don't substitute content for named var if it's in a For Stmt.
  In <_pl_yylex>, use consistent code and comments when testing for a For Stmt.


Build #1262 -- Version 0.4.9.xx
-------------------------------

* Fix Bug Accounting For Trains

Directory trunk:

PRIMFNS.C:
  In <IsFcnStrDirect>, if the argument is a function array and a Train,
    return TRUE so it is handled correctly by <MakeFcnStrand>.

YYFNS.C:
  In <YYAlloc>, include comments on how to debug <YYResIsEmpty> memory leaks.
  In <YYCountFcnStr>, if the item is a Train count it as a single element as
    that's the way it is treated in <YYCountFcnGlb>.


Build #1261 -- Version 0.4.9.xx
-------------------------------

* Omit DEBUG Flag No Longer Needed

Directory trunk:

PARSELINE.C:
PL_PARSE.H:
STRAND.C:
YYFNS.C:
  Omit <YYFlag> as it's no longer needed.
  Omit separate indexing of <YYAlloc>s in <pl_yylex> as it's no longer needed.


Build #1260 -- Version 0.4.9.xx
-------------------------------

* Fix Bugs Found By Dr Memory

Directory trunk:

AXISFNS.C:
CRASH.C:
DEBUG.C:
  Use macro for common unlock and free template.
  Use more consistent naming convention for globals and their ptrs.

EDITFCN.C:
  Omit unnecessary cleanup of Window properties.
  Use macro for common unlock and free template.

EXECDFN.C:
EXECMFN.C:
IMMEXEC.C:
PF_COMMA.C:
PF_CSLOPE.C:
PF_CSTILE.C:
PF_DARROW.C:
PF_DELTASTILE.C:
PF_DOMINO.C:
PF_DTACKJOT.C:
PF_EPSUND.C:
PF_INDEX.C:
PF_IOTA.C:
PF_IOTAUND.C:
PF_LSHOE.C:
PF_RSHOE.C:
PF_SLASH.C:
PF_SLOPE.C:
PF_SQUAD.C:
PF_UARROW.C:
PF_UTACKJOT.C:
PO_DIERESIS.C:
PRIMFNS.C:
PRIMSPEC.C:
QF_NFNS.C:
SAVEFCN.C:
SC_SAVE.C:
TABCTRL.C:
  Use macro for common unlock and free template.

FREE.C:
  Use ptr to xxGlbData so it can be written to consistently.
  Use macro for common unlock and free template.

GETFNS.C:
  Define function to return ptr to xxGlbData.

INIFILE.C:
  Define function to delete global vars created by <ReadIniFileGlb>.

MACROS.H:
  Define a macro to free a global name.
  Define a macro to unlock and free a global name.

MAIN.C:
  When selecting an object into a DC, save the old value and restore it
    before releasing the DC.
  Omit unnecessary cleanup of Window properties.
  In <ParseCommandLine> test for empty command line using <lstrlen> so the
    fake fault that Dr Memory finds is in the kernel and thus ignored.
  Delete globals created by <ReadIniFileGlb>.
  Delete permanent vars created by <MakePermVars>.

PARSELINE.C:
  Ensure <lstSynObj> is initialized at the start of the 2by2 code as there's
    a path through the code that references it before it's set.

SESSMAN.C:
  Omit unnecessary cleanup of Window properties.

STATUSBAR.C:
  When selecting an object into a DC, save the old value and restore it
    before releasing the DC.
  Initialize a var that's set by an EM_GETSEL message, but Dr Memory doesn't parse that.

SYMTAB.C:
  In <FreeHshSymTabs>, also free the global storage for the names of objects.

SYSVARS.C:
  Define function to delete global vars created by <MakePermVars>.


Build #1259 -- Version 0.4.9.xx
-------------------------------

* Fix Bug When Loading A Workspace With a VFP Number Not At Default Precision

Directory trunk:

SC_LOAD.C:
  In <LoadWorkspaceGlobal_EM>, initialize the VFP number after the default precision is set or it won't be effective.


Build #1258 -- Version 0.4.9.xx
-------------------------------

* Use More Consistent Function Names

Directory trunk:

CUSTOMIZE.C:
DISPDBG.C:
DISPLAY.C:
INIFILE.C:
PF_DTACKJOT.C:
QF_FMT.C:
QF_TF.C:
SC_SAVE.C:
STARTADDR.H:
  Use <FormatAplFlt> and <FormatAplInt> for <FormatFloat> and <FormatAplint>
   as more consistent names with other such functions.


Build #1257 -- Version 0.4.9.xx
-------------------------------

* Fix Bug In Syntax Analyzer

Directory trunk:

PARSELINE.C:
  In <plRedIO_SPA>, set the syntax object for the result.


Build #1256 -- Version 0.4.9.xx
-------------------------------

* Fix Bug In Session Manager

Directory trunk:

SESSMAN.C:
  In <SMWndProc>/MYWM_KEYDOWN/VK_RETURN, sometimes the CR is handled before the current line has been saved.


Build #1255 -- Version 0.4.9.xx
-------------------------------

* Implement 2by2 Syntax Analyzer

Directory trunk:

AFOFNS.C:
ASSIGN.C:
COMPRO.H:
CONVERT.C:
CS_PARSE.H:
CS_PROC.C:
DATATYPE.H:
DEFINES.H:
DISPDBG.C:
EDITFCN.C:
ENUMS.H:
EXECDFN.C:
EXECFNS.C:
EXECMFN.C:
EXTERNS.H:
FH_PARSE.H:
FH_PARSE.Y:
FREE.C:
GETFNS.C:
GOTO.C:
HEADERS.H:
IMMEXEC.C:
MACROS.H:
MAKEFILE.INC:
MAKEFILE.SRC:
NARS2000.32.VCPROJ:
NARS2000.64.VCPROJ:
PARSELINE.C:
PARSELINE.H:
PERTAB.H:
PF_INDEX.C:
PF_UTACKJOT.C:
PL_PARSE.H:
PL_PARSE.Y:
PL_PROC.C:
PO_CMIDDOT.C:
PO_DICIRCLE.C:
PO_DIDTACK.C:
PO_DIERESIS.C:
PO_DIJOT.C:
PO_DITILDE.C:
PO_DOT.C:
PO_JOT.C:
PO_JOTDOT.C:
PO_MULTISET.C:
PO_SLASH.C:
PO_SLOPE.C:
PO_VARIANT.C:
PRIMFNS.C:
REFCNT.C:
SC_IN.C:
SC_LOAD.C:
SESSMAN.C:
STARTADDR.H:
STRAND.C:
SYMTRANS.C:
SYNOBJ.H:
SYSCMDS.C:
TOKENIZE.C:
TOKENS.H:
TOKENSO.H:
TRANSLATE.C:
UNICODE.H:
YYFNS.C:
  Implement 2by2 syntax analyzer


Build #1254 -- Version 0.4.9.xx
-------------------------------

* Fix Bug In Build #1249

Directory trunk:

PO_SLASH.C:
  In <PrimOpMonSlashCommon_EM_YY>, handle the APA case when initializing GlbNum temps.


Build #1253 -- Version 0.4.9.xx
-------------------------------

* Switch To Simpler Macro

Directory trunk:

ASSIGN.C:
AXISFNS.C:
CUSTOMIZE.C:
DISPDBG.C:
FREE.C:
GETFNS.C:
INIFILE.C:
MACROS.H:
PF_BAR.C:
PF_CSLOPE.C:
PF_DTACK.C:
PF_EPSILON.C:
PF_PLUS.C:
PF_TIMES.C:
PF_UARROW.C:
PF_UTACKJOT.C:
PO_DIJOT.C:
PO_JOTDOT.C:
PO_MULTISET.C:
PO_SLOPE.C:
PRIMFNS.C:
QF_AV.C:
QF_DR.C:
QF_EA.C:
QF_EC.C:
QF_ERROR.C:
QF_EX.C:
QF_FX.C:
QF_LC.C:
QF_NC.C:
QF_SYSID.C:
QF_SYSVER.C:
QF_TC.C:
QF_TS.C:
SAVEFCN.C:
SC_COMMON.C:
SC_SAVE.C:
SC_WSID.C:
SESSMAN.C:
STRAND.C:
TABCTRL.C:
  Switch macro <VarArrayBaseToData> to <VarArrayDataFmBase> as it's simpler.


Build #1252 -- Version 0.4.9.xx
-------------------------------

* Fix Bug In []EC

Directory trunk:

QF_EC.C:
  In <SysFnMonEC_EM_YY>, save the <resetFlag> over the call to <UnlocalizeSTEs>.

QF_EX.C:
  Improve comments.


Build #1251 -- Version 0.4.9.xx
-------------------------------

* Enable Debugging Of Semaphores

Directory trunk:

RESDEBUG.C:
RESDEBUG.H:
  Display a debugging message when creating, closing, or releasing a semaphore.


Build #1250 -- Version 0.4.9.xx
-------------------------------

* Use A More Consistent Coding Style

Directory trunk:

AXISFNS.C
CUSTOMIZE.C
DICTIONARY.C
DISPDBG.C
EDITFCN.C
ERRMSG.C
EXCEPT.C
EXECDFN.C
EXECFNS.C
EXECMFN.C
FMTSPEC.C
GETFNS.C
IDENTFNS.C
IMMEXEC.C
INIFILE.C
INIPARSER.C
MAIN.C
PF_COMMA.C
PF_CSLOPE.C
PF_CSTILE.C
PF_DARROW.C
PF_DELTASTILE.C
PF_DOMINO.C
PF_DOTDOT.C
PF_DSHOE.C
PF_DTACK.C
PF_DTACKJOT.C
PF_EPSILON.C
PF_EPSUND.C
PF_IOTA.C
PF_IOTAUND.C
PF_LSHOE.C
PF_PI.C
PF_QUERY.C
PF_RHO.C
PF_SLASH.C
PF_SLOPE.C
PF_UARROW.C
PF_UTACK.C
PF_UTACKJOT.C
PN_PARSE.Y
PN_PROC.C
PO_CMIDDOT.C
PO_DICIRCLE.C
PO_DIERESIS.C
PO_DITILDE.C
PO_DOT.C
PO_JOT.C
PO_JOTDOT.C
PO_MULTISET.C
PO_SLASH.C
PO_SLOPE.C
PO_VARIANT.C
PRIMSPEC.C
PROGBAR.C
QF_AT.C
QF_AV.C
QF_DR.C
QF_EC.C
QF_ET.C
QF_EX.C
QF_FMT.C
QF_FX.C
QF_LC.C
QF_MF.C
QF_NC.C
QF_NFNS.C
QF_NL.C
QF_SYSID.C
QF_SYSVER.C
QF_TC.C
QF_TF.C
QF_TS.C
QF_UCS.C
RESDEBUG.C
SAVEFCN.C
SC_COMMON.C
SC_COPY.C
SC_IN.C
SC_LOAD.C
SC_WSID.C
SESSMAN.C
SYMTAB.C
SYSVARS.C
TABCTRL.C
TOKENIZE.C
TYPEMOTE.C
UPDATES.C
YYFNS.C
  Use a more consistent coding style.

DATATYPE.H
  Omit PTR_REUSED and use PTR_SUCCESS in instances that previously overlapped.

FREE.C
  Omit PTR_REUSED and use PTR_SUCCESS in instances that previously overlapped.
  Use a more consistent coding style.

MACROS.H
  Rename <NullPtrXXX> to <IsNullPtrXXX> to be more consistent.
  Omit PTR_REUSED and use PTR_SUCCESS in instances that previously overlapped.

PF_INDEX.C
  Use a more consistent coding style.
  Omit PTR_REUSED and use PTR_SUCCESS in instances that previously overlapped.

PF_RSHOE.C
PF_SQUAD.C
PRIMFNS.C
QF_CR.C
SC_SAVE.C
STRAND.C
  Use a more consistent coding style.
  Omit PTR_REUSED and use PTR_SUCCESS in instances that previously overlapped.


Build #1249 -- Version 0.4.9.xx
-------------------------------

* Fix Bugs When Type Promoting Reduce And Scan Operator Results

Directory trunk:

DISPLAY.C:
  In <FormatAplRatFC> and <FormatAplVfpFC> assert that the incoming value is valid.

PO_SLASH.C:
  In <PrimOpMonSlashCommon_EM_YY>, also initialize GlbNum temp if right arg and result are different types.
  Remove PTR_REUSED code as that's handled by <FreeResultGlobalIncompleteVar>.

PO_SLOPE.C:
  In <PrimOpMonSlopeCommon_EM_YY>, release unused values after type promotion.

PRIMSPEC.C:
  In <PrimFnDydSiScSiScSub_EM>, return newly allocated global memory handle if requested.
  In <PrimFnDydSiScSiScSub_EM>, release unused values after type promotion.


Build #1248 -- Version 0.4.9.xx
-------------------------------

* More DEBUG Support

Directory trunk:

CUSTOMIZE.C:
DEBUG.C:
EDITFCN.C:
ENUMS.H:
EXECDFN.C:
EXECMFN.C:
IMMEXEC.C:
INIFILE.C:
MACROS.H:
MAIN.C:
PF_DOMINO.C:
PF_DTACKJOT.C:
PF_EPSILON.C:
PF_EPSUND.C:
PF_INDEX.C:
PF_IOTA.C:
PF_IOTAUND.C:
PF_LSHOE.C:
PF_PI.C:
PF_UTACKJOT.C:
PN_PROC.C:
PO_DOT.C:
PO_JOTDOT.C:
PO_SLASH.C:
PRIMSPEC.C:
QF_AV.C:
QF_NFNS.C:
RESDEBUG.C:
SAVEFCN.C:
SC_LIB.C:
SC_LOAD.C:
SC_SAVE.C:
SESSMAN.C:
STARTADDR.H:
SYMTAB.C:
SYSVARS.C:
TABCTRL.C:
TOKENIZE.C:
UPDATES.C:
  Use DEBUG versions of <MyGlobalXXX> functions.

EXCEPT.C:
  Omit <EXCEPT_NAMES> in favor of <MyGetExceptionStr>.
  Pass argument to <MyGetExceptionStr>.
  Fill in more codes in <MyGetExceptionStr>.

HEADERS.H:
  Update copyright year.
  Include header missing from Build #1247.

MAKEFILE.INC:
NARS2000.32.VCPROJ:
NARS2000.64.VCPROJ:
  Include new library for string safe functions.

TYPEMOTE.C:
  Use DEBUG versions of <MyGlobalXXX> functions.
  Fix bug in <Assert> stmt.


Build #1247 -- Version 0.4.9.xx
-------------------------------

* String Safe Support #1

Directory trunk:

CS_PARSE.Y:
DEBUG.C:
FH_PARSE.Y:
PN_PARSE.Y:
  Use string safe functions instead of the unsafe ones.


Build #1246 -- Version 0.4.9.xx
-------------------------------

* Miscellaneous Fixes Omitted From Last Build

Directory trunk:

CUSTOMIZE.C
  Update copyright year.
  Update comment for "{div} 0"

EXTERNS.H:
  Update comment for "{div} 0"

VER.RC:
  Increment version # to 0.4.9.xx.
