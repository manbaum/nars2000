Version 0.0.2.23 consists of the following Builds:


Build #828 -- Version 0.0.2.23
------------------------------

* Fix Bug:  Memory Leak When Sizing Tokenized Lines

Directory trunk:

SAVEFCN.C:
  Fix Bug:  Memory leak when sizing tokenized lines.


Build #827 -- Version 0.0.2.23
------------------------------

* Fix Bug:  Dyadic Format Can Return {neg}0

Directory trunk:

DISPLAY.C:
  Update copyright year.
  Fix Bug:  Handle case of negative number that rounds to {neg)0.

PF_DTACKJOT.C:
  Update copyright year.
  Test for both global memory handle and ptr before unlocking.


Build #826 -- Version 0.0.2.23
------------------------------

* Optimize Multiset Match And Mismatch

Directory trunk:

GRADE.H:
  Define typedef for different Multiset Match/Mismatch common routines.

PO_MULTISET.C:
  Optimize Multiset Match/Mismatch by splitting out the common simple
    array cases into separate routines.
  Improve comments.


Build #825 -- Version 0.0.2.23
------------------------------

* Save Tokenized Lines At End Of UDFO Header

Directory trunk:

APLERRORS.H:
  Update copyright year.
  Define error message for Syntax Error In Function Line.

CS_PARSE.Y:
  Define shortened token for EOS NEC SOS.

CS_PROC.C:
  Update copyright year.
  In <CS_ChangeTokenType>, <CS_ChainTokens>, <CS_SetTokenCLIndex>,
    and <CS_SELECT_Stmt_EM> use offset to tokenized line to find it.
  Pass ptr to token header to <PrimFnMonUpTackJotPLParse> instead of
    global memory handle.
  In <CS_GetToken_COM>, return offset from UDFO header to tokenized line
    instead of global memory handle.

DISPDBG.C:
  In <DisplayTokens>, pass ptr to token header instead of global
    memory handle.
  In <GetTokenTypeName>, name <TKT_UNUSED> and include names for
    <TKT_CONTINUEIF> and <TKT_LEAVEIF>.

EDITFCN.C:
  Pass ptr to tokenized line header to <Untokenize> instead of global
    memory handle.

EXECDFN.C:
  In <ExecuteFunction_EM_YY>, use offset to tokenized line to find it.
  Pass ptr to tokenized line header to <ParseLine> instead of global
    memory handle.

EXECMFN.C:
  Size the tokenized lines beforehand so we know how much to allocate
    for the UDFO header.

FH_PARSE.H:
  In <tagFCNLINE> replace the glolbal memory handle for the tokenized line
    header with an offset from the start of the UDFO.
  In <tagDFN_HEADER>, include offset to start of tokenized lines.
  In <tagFHLOCALVARS>, replace <UNION_TOKEN> with ptr to tokenized line header.

FH_PARSE.Y:
  Update copyright year.
  Replace references to <t2> with a ptr to the tokenized line header.

FREE.C:
  Replace references to the tokenized line global memory handle with
    the offset to the tokenized line header.

GETFNS.C:
  Delete function <GetTokenLineHandle> as we no longer need it.

GOTO.C:
  Update copyright year.
  Replace references to the tokenized line global memory handle with
    the offset to the tokenized line header.

IMMEXEC.C:
  Pass ptr to tokenized line header to <ParseLine> instead of global
    memory handle.
  Pass ptr to tokenized line header to <Untokenize> instead of global
    memory handle.

PF_UTACKJOT.C:
  Pass ptr to token header to <PrimFnMonUpTackJotPLParse> instead of
    global memory handle.
  Pass ptr to tokenized line header to <Untokenize> instead of global
    memory handle.
  Pass ptr to tokenized line header to <ParseLine> instead of global
    memory handle.

PL_PARSE.H:
  Update copyright year.
  In <tagPLLOCALVARS>, replace <UNION_TOKEN> with ptr to tokenized line header.
  In <tagPLLOCALVARS> replace the glolbal memory handle for the tokenized line
    header with a ptr to the tokenized line header.

PL_PARSE.PROTO:
  Pass ptr to tokenized line header to <ParseLine> instead of global
    memory handle.
  Define prototypes for additional functions.

PL_PARSE.Y:
  Pass ptr to tokenized line header to <ParseLine> instead of global
    memory handle.
  In <DisplayTokens>, pass ptr to token header instead of global
    memory handle.
  Replace references to <t2> with a ptr to the tokenized line header.

QF_AT.C:
  Update copyright year.
  In <CalcSymEntrySize>, replace call to <MyGlobalSize> with calculation
    of the size as we no longer have a global memory handle.

SAVEFCN.C:
  In <SaveFunctionCom>, use generic error message rather than format string.
  Size the tokenized lines beforehand so we know how much to allocate
    for the UDFO header.
  Pass ptr to tokenized line header to <Untokenize> instead of global
    memory handle.
  Define new function to size/save a UDFO tokenized line.
  In <GetSpecialLabelNums>, use offset to tokenized line to find it.

STARTADDR.H:
  Include additional function names.

TOKENIZE.C:
  Remove <UTLockAndSet> as it's replaced by one line now.
  Replace references to <t2> with a ptr to the tokenized line header.
  Pass ptr to tokenized line header to <Untokenize> instead of global
    memory handle.
  In <AppendNewCSToken_EM>, use addtional coalescing to reduce the size
    of the CS stack.

TOKENIZE.H:
  Update copyright year.
  Replace references to <t2> with a ptr to the tokenized line header.

TOKENS.H:
  In <tagTOKEN_TYPES>, define zero entry and eliminate <TKT_FIRST>,
    <TKT_LENGTHp1>, and <TKT_LENGTH>.
  In <tagTOKEN_TYPES>, define new token <TKT_ENS> for CS stack coalescing.
  Delete <tagUNION_TOKEN> as we no longer need it.


Build #824 -- Version 0.0.2.23
------------------------------

* Fix Bug:  Syntax Coloring May Write Too Many Entries

Directory trunk:

TOKENIZE.C:
  Fix Bug:  Syntax coloring of ({iota}6){jot}2+a with a dot inserted
    to the right of the {jot} writes too many entries in memory.


Build #823 -- Version 0.0.2.23
------------------------------

* Fix Bug:  N-wise Reduction On Non-Last Coordinate Returns Wrong Result, Part 2

Directory trunk:

PO_SLASH.C:
  Calculate the index into the result more correctly for non-last coordinates.


Build #822 -- Version 0.0.2.23
------------------------------

* Fix Bug:  Dyadic Epsilon Needs To Type Demote Its Result

Directory trunk:

PF_EPISLON.C:
  Update copyright year.
  The result of dyadic epsilon must be demoted to an immediate.


Build #821 -- Version 0.0.2.23
------------------------------

* Fix Bug:  Parenthesized Expression With Embedded Assignment Not Parsed Correctly

Directory trunk:

PL_PARSE.Y:
  Improve comments.
  Fix Bug:  In <ArrValu:  ArrExpr>, don't trigger error if in look ahead.


Build #820 -- Version 0.0.2.23
------------------------------

* Optimize Dyadic Tilde
* Allow Monadic Tilde With R In [0,1]

Directory trunk:

EXECMFN.C:
EXECMFN.H:
  Delete magic function for dyadic tilde.

PF_TILDE.C:
  Define routines to handle monadic tilde on R in [0,1].
  Delete magic function for dyadic tilde.

Builds #818-9 -- Version 0.0.2.23
---------------------------------

* Create SVN Folder For Msieve


Build #817 -- Version 0.0.2.23
------------------------------

* Implement More Control Structures

Directory trunk:

APLERRORS.H:
  Define error message text for Assertion Error.

CS_PARSE.Y:
  Update copyright year.
  Define grammar for Assert. ContinueIf, and LeaveIf tokens.

CS_PROC.C:
  Define CS actions for Assert, ContinueIf, and LeaveIf tokens.

MACROS.H:
PRIMFNS.C:
  Delete <GetImmTypeFcn> function in favor of an line macro.

PL_PARSE.Y:
  Define parse actions for Assert, ContinueIf, and LeaveIf tokens.

TOKENIZE.C:
  Define token class for Assert, ContinueIf, and LeaveIf tokens.

TOKENS.H:
  Update copyright year.
  Define Assert, ContinueIf, and LeaveIf tokens.


Build #816 -- Version 0.0.2.23
------------------------------

* Implement Root Primitive Scalar Function
* Define Two New Indeterminate Cases

Directory trunk:

COMPRO.H:
  Include Root prototype file.

CUSTOMIZE.C:
  Define new indeterminate text for CLEAR WS Values Property Page.
  Include Root symbol in APL Symbol Table.

EXTERNS.H:
  Define two new indeterminate cases:  0 * ±_.

INITDATA.C:
  Define Root function as primitive scalar.

KEYBOARDS.H:
  Remove Alt-'R' from list of available keystrokes.
  Include Root symbol in APL keyboard tables.

MAKEFILE.INC
MAKEFILE.SRC:
NARS2000.32.VCPROJ:
NARS2000.64.VCPROJ:
  Include Root module in makefiles.

PF_ROOT.C:
  New module implementing Root symbol.

PF_STAR.C:
  Define []IC actions for new indeterminates:  0 * ±_.

REBAR.C:
  Define Language Bar entry for Root symbol.

SYMBOLNAMES.H:
  Define symbol name for Root symbol.

TOKENIZE.C:
  Define token class for Root symbol.

UNICODE.H:
  Define Unicode value for Root symbol.


Directory trunk\Extensions\aplchars\chrome\content\aplchars:

EDITOROVERLAY.JS:
  Define keystroke for Root symbol.


Build #815 -- Version 0.0.2.23
------------------------------

* Fix Bug:  N-wise Reduction On Non-Last Coordinate Returns Wrong Result

Directory trunk:

PO_SLASH.C:
  Calculate the index into the result correctly for non-last coordinates.


Build #814 -- Version 0.0.2.23
------------------------------

* Fix Bug:  In K[2][1] Handle Immediate List Value

Directory trunk:

PF_INDEX.C:
  Fix Bug:  In <ListIndexRef_EM_YY>, handle immediate list value.

PRIMFNS.C:
  Update copyright year.
  In <TokenTypeFV>, allow list tokens.

STARTADDR.H:
  Include new routine names.


Build #813 -- Version 0.0.2.23
------------------------------

* Remove Debug Statements As They May Now Occur

Directory trunk:

PRIMSPEC.C:
  In <PrimFnMon_EM_YY> and <PrimFnDyd_EM_YY>, copy the incoming
    <lpPrimSpec> to the stack so it may be written to (say, for
    atomic []RL).
  In <PrimFnMonGlb_EM>, <PrimFnDydSingMult_EM>, <PrimFnDydMultSing_EM>,
    <PrimFnDydSiScSiScSub_EM>, and <PrimFnDydSimpSimp_EM>, remove debug
    statements as they may occur due to <PrimFnPi_EM_YY>.


Directory trunk\htdocs:

LICENSE-BODY.HTML:
  Update copyright year.


Build #812 -- Version 0.0.2.23
------------------------------

* Fix Bug:  Check For CtrlBreak Between Statements

Directory trunk:

PL_PARSE.Y:
  Check for CtrlBreak between statements.


Build #811 -- Version 0.0.2.23
------------------------------

* Fix Bug:  Remove Debug Statement Triggered By 1 50!200

Directory trunk:

PF_QDOT.C:
  Fix Bug:  Remove debug statement as it may occur with 1 50!200.


Build #810 -- Version 0.0.2.23
------------------------------

* Fix Bug:  Empty Result From Take/Drop On A Nested Array Has Wrong RefCnt

Directory trunk:

PF_DARROW.C:
PF_UARROW.C:
  Update copyright year.
  Fix Bug:  Increment RefCnt for empty nested results.


Build #809 -- Version 0.0.2.23
------------------------------

* Fix Bug:  Tally Fails On Nested Scalars

Directory trunk:

PF_CARET.C:
  Fix Bug:  Handle nested scalars.


Build #808 -- Version 0.0.2.23
------------------------------

* Miscellaneous Changes

Directory trunk:

GETFNS.C:
  Delete blank line.

MAIN.RC:
  In Syntax Coloring property page, widen text at bottom of page, and
    move button over to as not to overwrite text to its left.

PF_LTACK.C:
PF_RTACK.C:
  Update copyright year.
  Improve comments.


Build #807 -- Version 0.0.2.23
------------------------------

* Fix Bug:  )LIB Command May List .atf Files Too Many Times

Directory trunk:

SC_LIB.C:
  Use default dir when tail contains L".." but not L'.'.


Build #806 -- Version 0.0.2.23
------------------------------

* Fix Bug:  Execute Without Result May Crash

Directory trunk:

PF_UTACKJOT.C:
  Update copyright year.
  In <PrimFnMonUpTackJotCommon_EM_YY>, rather than assert that
    there's a result, test for it and if none, fall through to
    the NoValue code.


Build #805 -- Version 0.0.2.23
------------------------------

* Optimize Boolean Scalar Functions By Chunking

Directory trunk:

MACROS.H:
  Define macro for detecting Boolean APAs.

PF_COMMA.C:
  Update copyright year.
  Rename <IsBooleanAPA> to <IsTknBooleanAPA> to reflect
    the token input.

PF_DCARET.C:
PF_DSTILE.C:
PF_EQUAL.C:
PF_LCARET.C:
PF_LCARETUND.C:
PF_NDCARET.C:
PF_NEQUAL.C:
PF_NUCARET.C:
PF_QDOT.C:
PF_RCARET.C:
PF_RCARETUND.C:
PF_STAR.C:
PF_STILE.C:
PF_TILDE.C:
PF_TIMES.C:
PF_UCARET.C:
PF_USTILE.C:
  Update copyright year.
  Define Boolean chunking routines.

PRIMSPEC.C:
  Call Boolean chunking routines.
  Rename <IsBooleanAPA> to <IsTknBooleanAPA> to reflect
    the token input.

PRIMSPEC.H:
  Update copyright year.
  Define Boolean chunking routines in PRIMSPEC struc.

TYPES.H:
  Update copyright year.
  Define Boolean 64-, 32-, 16-, and 8-bit types.


Build #804 -- Version 0.0.2.23
------------------------------

* Fix Bug:  Undo At Start Of Undo Buffer Crashes

Directory trunk:

EDITFCN.C:
  In <LclEditCtrlWndProc/WM_UNDO:>, read in ptr to start of
    Undo buffer and test against it before proceeding to Undo.

VERSION.RC:
  Increment version to 0.0.2.23.
