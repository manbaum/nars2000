Version 0.5.10.xx consists of the following Builds:


Build #2093 -- Version 0.5.10.xx
--------------------------------

* Handle CR,LF As Not Continuing To The Next Line
* Use CR,LF Instead Of CR In Error Messages

Directory branches/bsmith/NewTypes:

DISPLAY.C:
  Handle CR,LF as not continuing to the next line.

ERRMSG.C:
  Use CR,LF instead of CR in Error Messages.

PF_DTACKJOT.C:
  Use macro instead of literal in DEBUG name.


Build #2091 -- Version 0.5.10.xx
--------------------------------

* Fix Bug When Assigning System Function To A Name

Directory branches/bsmith/NewTypes:

ASSIGN.C:
SYMTAB.C:
  Fix Bug when assigning a System Function to a name.


Build #2089 -- Version 0.5.10.xx
--------------------------------

* Use Line Continuations In Output For Wrapped Lines

Directory branches/bsmith/NewTypes:

DISPLAY.C:
PF_DTACKJOT.C:
  Use Line Continuations in output to better distinguish wrapped lines.


Build #2087 -- Version 0.5.10.xx
--------------------------------

* Preserve Visual Fidelity When Mixing CRs, LFs, And BSs In Character Output, Part 3

Directory branches/bsmith/NewTypes:

SC_LIB.C:
  Fix bug when displaying the result of )LIB.


Build #2085 -- Version 0.5.10.xx
--------------------------------

* Preserve Visual Fidelity When Mixing CRs, LFs, And BSs In Character Output, Part 2

Directory branches/bsmith/NewTypes:

SC_FNOV.C:
  Fix bug when displaying the result of )FNS, )VARS, etc.


Build #2083 -- Version 0.5.10.xx
--------------------------------

* Preserve Visual Fidelity When Mixing CRs, LFs, And BSs In Character Output

Directory branches/bsmith/NewTypes:

DISPLAY.C:
SC_FNOV.C:
SESSMAN.C:
  Preserve Visual Fidelity when mixing CRs, LFs, and BSs in character output.


Build #2081 -- Version 0.5.10.xx
--------------------------------

* Rename <FcnCurry> To <OpLCurry> To Parallel The Name <OpRCurry>

Directory branches/bsmith/NewTypes:

FREE.C:
PARSELINE.C:
PL_PARSE.H:
STRAND.C:
YYFNS.C:
  Rename <FcnCurry> to <OpLCurry> to parallel the name <OpRCurry>.


Build #2079 -- Version 0.5.10.xx
--------------------------------

* Fix Bug In )BOX ON
* Note Minimum OS Version is Win7

Directory branches/bsmith/NewTypes:

DISPLAY.C:
  Fix bug in )BOX ON when displaying an array to include check for NoDisplay flag.

MAIN.C:
MAKEFILE.INC:
  Note that the minimum OS version is Win7.


Directory branches/bsmith/NewTypes/htdocs:

INDEX-BODY.AHTML:
  Note that the minimum OS version is Win7.


Build #2077 -- Version 0.5.10.xx
--------------------------------

* Implement Workspace Features To Allow Multiple Features Non-Downward Compatible Features To Co-exist

Directory branches/bsmith/NewTypes:

ASSIGN.C:
EXECDFN.C:
  Rename<TranslateDfnToNameType> to <TranslateDfnTypeToNameType> to be more consistent with other function names in <translate.c>.

EXTERNS.H:
  Define section on Workspace Feature Values.

HEADERS.H:
  Copy <#include "workspace.h"> from <pertab.h> to #define certain names used in <externs.h>.

MAIN.RC:
  Lengthen the "About" dialog box to accommodate the list of workspace features supported by this version.

PERTAB.H:
  Surround <#include "workspace.h"> with #define/#undef so it #defines the structures, too.

PRIMFNS.C:
  Define function <IsTknFcnOprVar> like <IsTknFcnOpr> but including Vars.
  In <RoundUpBitsInArray>, round up Bits to a byte boundary instead of DWORD.
  Take the last change into account in <CalcArraySize>.
  In <IsTknnamed>, change the status of DEL and DELDEL to FALSE.
  Define function <IsTknDel> like <IsSymDel>, but for tokens.

SC_BOX.C:
  Fix minor display bug in )BOX which mistakenly inserts an extra line after the command.

SC_COPY.C:
  Before )COPYing, check to see that the source ws doesn't have unsupported features.

SC_LOAD.C:
  Before )LOADing, check to see that the source ws doesn't have unsupported features.

SC_SAVE.C:
  While )SAVEing a workspace, check for features that old interpreters might choke on and put a notice into the saved workspace.

TRANSLATE.C:
  Rename<TranslateDfnToNameType> to <TranslateDfnTypeToNameType> to be more consistent with other function names in <translate.c>.
  In <TranslateNameTypeToImmType>, allow niladic function name type.
  In <TranslateFcnOprToStr>, ensure the result is properly terminated

VER.C:
  In the "About" dialog box, display the Workspace Features this version supports.

WORKSPACE.H:
  #define keynames and feature names for Workspace Features.


Build #2075 -- Version 0.5.10.xx
--------------------------------

* Fix Bug With UDFO Multiple Names In Result List That Are All NoValue

Directory branches/bsmith/NewTypes:

EXCEDFN.C:
  In <ExecuteFunction_EM_YY> and <CheckDfnExitError_EM> when testing the multiple names in the Result List, allow all names to be NoValue.


Build #2073 -- Version 0.5.10.xx
--------------------------------

* Fix Bug In Up/Down Arrow Prototype In Certain Cases

Directory branches/bsmith/NewTypes:

PF_DARROW.C:
PF_UARROW.C:
  Fix bug in the "Arrows" when the result is Empty Nested but the right arg is Not Empty in which case the code mistakenly returns the right arg as the prototype instead of the "Type" of the right arg.


Build #2071 -- Version 0.5.10.xx
--------------------------------

* Implement APL2 Vector Notation W.R.T. Right Operands

Directory branches/bsmith/NewTypes:

DATATYPE.H:
  Define bit field in Array Header for a Split Numeric Strand.

FREE.C:
  Define function to free curried objects only.
  In <FreeResultGlobalVarSub>, test for Split Numeric and free it again.

PARSELINE.C:
  While Parsing and just before Reducing, check for the need to split a strand as a right operand.
  When an error occurs during Parsing, ensure the curried arguments of the Current Object are freed.
  Define routines to Split Numeric Strands.


Build #2069 -- Version 0.5.10.xx
--------------------------------

* Implement )BOX

Directory branches/bsmith/NewTypes:

COMPRO.H:
  Include new file.

DISPLAY.C:
  Make sensitive to )BOX state.
  Use common exit point.

ENUMS.H:
  Define new ENUM for )BOX.

EXTERNS.H:
  Define )BOX vars.

MAKEFILE.INC:
MAKEFILE.SRC:
NARS2000.VCXPROJ:
NARS2000.VCXPROJ.FILTERS:
  Include new file.

SC_BOX.C:
  Implement )BOX.

SYSCMDS.C:
  Include )BOX in the table of system commands.


Directory branches/bsmith/NewTypes/Mediawiki/extensions:

B2A.INC.PHP:
  Define more aliases for keystrokes.


Build #2067 -- Version 0.5.10.xx
--------------------------------

* Define More )DEBUG Commands

Directory branches/bsmith/NewTypes:

EXTERNS.H:
  Define <bDebugFHLex> and <bDebugPNLex> as )DEBUG commands.

FH_PARSE.Y:
  Allow <bDebugFHlex> to control DEBUGging of FH Lexical Analysis.

PN_PARSE.Y:
  Allow <bDebugPNLex> to control DEBUGging of PN Lexical Analysis.

SC_DEBUG.C:
  Define )DEBUG PNLex=n and )DEBUG FHLex=n as new DEBUG commands.


Build #2065 -- Version 0.5.10.xx
--------------------------------

* Allow {jotdot} As A Monadic Operator Including Assignment
* Rename Various Syntax Objects For Later Consistency With Hyperators
* Rename <INDEX_OPxxx> To <UTF16_OPxxx> As They Are Not Indices Into A Table

Directory branches/bsmith/NewTypes:

ASSIGN.C:
  Allow {jotdot} as a monadic operator including assignment.

DISPDBG.C:
  Define helper function to strcpyW and skip to the end of the destination.
  Change <TranslateFcnOprToChar> to <TranslateFcnOprToStr>.

EXECFNS.C:
  Rename <INDEX_OPxxx> to <UTF16_OPxxx> as they are not indices into a table.
  In <ExecOp1_EM_YY>, handle <UTF16_JOTDOT>.

INITDATA.C:
  Rename <INDEX_OPxxx> to <UTF16_OPxxx> as they are not indices into a table.

PARSELINE.C:
PARSELINE.H:
  Rename various Syntax Objects for later consistency with Hyperators.
  Define alias for SP_JD -- {is}{jotdot}.
  Rename <INDEX_OPxxx> to <UTF16_OPxxx> as they are not indices into a table.

PO_JOTDOT.C:
  Rename <INDEX_OPxxx> to <UTF16_OPxxx> as they are not indices into a table.

PO_SLASH.C:
  Rename <INDEX_OPxxx> to <UTF16_OPxxx> as they are not indices into a table.
  Simplify test for SLASHBAR.

PO_SLOPE.C:
  Rename <INDEX_OPxxx> to <UTF16_OPxxx> as they are not indices into a table.

QF_CR.C:
  Handle []CR of a name whose value is {jotdot}.

SC_LOAD.C:
  For Immediate functions, ensure the Value bit is set.

SC_SAVE.C:
  For Immediate functions, skip TranslateXXX as the ConvertXXX function handles that.

STRAND.C:
  Rename <INDEX_OPxxx> to <UTF16_OPxxx> as they are not indices into a table.

SYMBOLNAMES.H:
  Include {jotdot} in the last of translatable symbol names.

SYMTRANS.C:
  Rename <INDEX_OPxxx> to <UTF16_OPxxx> as they are not indices into a table.
  Define new translate function <varOprTrans> specifically for <varOprTab>.

SYNOBJ.H:
  Rename various Syntax Objects for later consistency with Hyperators.

TRANSLATE.C:
  Rename various Syntax Objects for later consistency with Hyperators.
  Change <TranslateFcnOprToChar> to <TranslateFcnOprToStr>.
  Rename <INDEX_OPxxx> to <UTF16_OPxxx> as they are not indices into a table.
  In <TranslateFcnOprToStr>, handle {jotdot}.

UNICODE.H:
  Separate the table index conflicts from the special functions.
  Rename <INDEX_OPxxx> to <UTF16_OPxxx> as they are not indices into a table.
  Improve comments.

YYFNS.C:
  Rename <INDEX_OPxxx> to <UTF16_OPxxx> as they are not indices into a table.


Build #2063 -- Version 0.5.10.xx
--------------------------------

* Fix Bug With ?{infinity} For Both Multiple Precision Numbers

Directory branches/bsmith/NewTypes:

PF_QUERY.C:
  In both <PrimFnMonQueryRisR> and <PrimFnMonQueryVisV>, check for {infinity} and signal a DOMAIN ERROR if found.


Build #2061 -- Version 0.5.10.xx
--------------------------------

* Disallow Display Of MFO Local Names In )SINL

Directory branches/bsmith/NewTypes:

MACROS.H:
  Define macro to detect MFO Local names.

SC_SI.C:
  Allow )SINL to display a pendent MFO.
  Disallow display of MFO Local names in )SINL.


Build #2059 -- Version 0.5.10.xx
--------------------------------

* Fix Bug In 1 []AT on Operators As Function Arrays

Directory branches/bsmith/NewTypes:

QF_AT.C:
  In <AttributeValences>, handle Function Array Operators through a separate function.


Build #2057 -- Version 0.5.10.xx
--------------------------------

* Fix Bug When Saving f{is}{quad}NL In Workspace

Directory branches/bsmith/NewTypes:

DISPDBG.C:
  Fix bug when creating f{is}'a'{jot}{quad}NL as f{is]a{jot}{quad}NL.

MACROS.H:
  Define macros to detect when a token is free-able.

PARSELINE.C:
  In <FreeStackTemps>, free the token if it is free-able even if not valid.

QF_CR.C:
  In <CopySteName>, handle Direct Functions.

SC_COPY.C:
  In IF/WHILE stmts always compare ptr against NULL and value against 0.
  In <DeleteGlobalLinks>, don't free Direct Functions.

SC_LOAD.C:
  Use WFCN instead of the literal function name.
  In <ParseSavedWsFcn_EM>, don't increment RefCnt and don't check the function signature if Direct Function.
  In <LoadWorkspaceGlobal_EM>, pass on the Direct Function flag from a Workspace Global to the actual workspace object.

SC_SAVE.C:
  In <SavedWsFormGlbFcn>, handle Direct Functions.
  In <SavedWsFormGlbVar>, check for NULL variable before referencing it.


Build #2055 -- Version 0.5.10.xx
--------------------------------

* Allow Hex Notation In )DEBUG Keywords

Directory branches/bsmith/NewTypes:

SC_DEBUG.C:
  Allow hex notation in )DEBUG keywords.


Build #2053 -- Version 0.5.10.xx
--------------------------------

* Fix Bugs In Syntax Analysis Of Trains With Variables

Directory branches/bsmith/NewTypes:

PARSELINE.C:
  Define aliases for routines to handle more Train syntax such as (F A F) A.

PARSELINE.H:
  Reformat the Binding Strengths and Reductions tables to be more readable.
  Define more Binding Strengths so as to handle more Train syntax.
  Define more pesudo-Reductions so as to handle more Train syntax.

SYNOBJ.H:
  Reformat the Syntax Object Names table to be more readable.


Build #2051 -- Version 0.5.10.xx
--------------------------------

* Update Web Documentation

Directory branches/bsmith/NewTypes/htdocs:

CONTRIBUTORS-BODY.AHTML:
  Update year of publication for TAoCP, Vol 4A.

INDEX-BODY.AHTML:
  Update the minimum version of Windows we run on.


Build #2049 -- Version 0.5.10.xx
--------------------------------

* Fix Bug In Syntax for "(/\)A"

Directory branches/bsmith/NewTypes:

IDENTFNS.C:
  In <GetIdentityElement_EM>, pass original and prototype of right arg to the Identity Function.

INITDATA.C:
  Include in the <PrimFlags> table the Identity Function for dyadic slash function (Replicate).
  Include in the <PrimFlags> table the Identity Function for dyadic slash operator (N-wise Reduction).

PARSELINE.C:
  If <bDebugPLTrace>, display conversions from "HY" to "OP1" or "FN".
  At the end of PARSELINE_SCAN, test for "(/" and convert the "/" from "HY" to"FN".
  If <bDebugPLTrace>, at PARSELINE_VALUEERR and PARSELINE_SYNTERR display a TRACE message to mark those events.

PF_SLASH.C:
  Define the Identity Function for dyadic slash function (Replicate).

PO_SLASH.C:
  Define the Identity Function for dyadic slash operator (N-wise Reduction).

PRIMSPEC.C:
  For DEBUG purposes, distinguish between <MyGlobalLock000> and <MyGlobalLockInt>.

VER.RC:
  Increment version # to 0.5.10.xx.


Build #2047 -- Version 0.5.10.xx
--------------------------------

* Fix Bug When Pasting APL Chars

Directory branches/bsmith/NewTypes:

EDITFCN.C:
  When pasting APL chars, don't use GlobalSize as we can't rely on its value due to Windows rounding up to a 4- or 8-byte boundary.
