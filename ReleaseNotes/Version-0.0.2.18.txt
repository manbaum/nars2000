Version 0.0.2.18 consists of the following Builds:


Build #739 -- Version 0.0.2.18
------------------------------

* Fix Bug:  Handle Tab Closing In Proper Order So We Free Everything

Directory trunk:

EXCEPT.C:
  In <DisplayException>, check for invalid ptr, not just NULL.

SESSMAN.C:
  In <SMWndProc/WM_CREATE> and <SMWndProc/WM_DESTROY> upon failure to
    load a workspace, free the SymTab globals.

TABCTRL.C:
  In <LclTabCtrlWndProc>, break out the code to free SymTab globals
    into a separate routine so it may be called from multiple places
    and sooner than where it was before the SymTab itself is freed.


Build #738 -- Version 0.0.2.18
------------------------------

* Define Consistent Wide Character Names For Various Routines

Directory trunk:

COMMON.C:
CUSTOMIZE.C:
DEFINES.H:
FMTSPEC.C:
INIFILE.C:
MAIN.C:
QF_TF.C:
SAVEFCN.C:
SC_COMMON.C:
SC_COPY.C:
SC_IN.C:
SC_LOAD.C:
SC_OUT.C:
SC_SAVE.C:
  Use wide char name with W suffix instead of other less memorable name.

CS_PROC.C:
  Improve comments.


Build #737 -- Version 0.0.2.18
------------------------------

* Fix Bug:  When Undoing The No Action Case Increments Instead Of Decrements

Directory trunk:

EDITFCN.C:
  In <LclEditCtrlWndProc>/<WM_REDO>, as we move backwards through
    the Undo buffer, the <undoNone> case increments the pointer
    instead of decrementing it.


Build #736 -- Version 0.0.2.18
------------------------------

* Display Caller's Function Name In Common Error Message Routines

Directory trunk:

DEFINES.H:
  Define template for debug-only text to appear in error message.

EXECFNS.C:
INITDATA.C:
PF_COMMA.C:
PF_CSLOPE.C:
PF_CSTILE.C:
PF_DARROW.C:
PF_DELTASTILE.C:
PF_DOMINO.C:
PF_DSHOE.C:
PF_DTACK.C:
PF_DTACKJOT.C:
PF_EPSILON.C:
PF_EPSUND.C:
PF_EQUALUND.C:
PF_INDEX.C:
PF_IOTA.C:
PF_IOTAUND.C:
PF_LSHOE.C:
PF_LTACK.C:
PF_QUERY.C:
PF_RCARET.C:
PF_RHO.C:
PF_RSHOE.C:
PF_RTACK.C:
PF_SLASH.C:
PF_SLOPE.C:
PF_SQUAD.C:
PF_TILDE.C:
PF_UARROW.C:
PF_UTACK.C:
PF_UTACKJOT.C:
PL_PARSE.Y
PO_CMIDDOT.C:
PO_DICIRCLE.C:
PO_DIERESIS.C:
PO_DIJOT.C:
PO_DITILDE.C:
PO_DOT.C:
PO_JOT.C:
PO_JOTDOT.C:
PO_SLASH.C:
PO_SLOPE.C:
PRIMSPEC.C:
QF_AT.C:
QF_CR.C:
QF_DL.C:
QF_DR.C:
QF_EA.C:
QF_ERROR.C:
QF_ES.C:
QF_EX.C:
QF_FMT.C:
QF_FX.C:
QF_MF.C:
QF_NC.C:
QF_NL.C:
QF_SIZE.C:
QF_TF.C:
QF_UCS.C:
QF_VR.C:
  Update copyright year.
  Append debug-only text to common error message routine.


Build #735 -- Version 0.0.2.18
------------------------------

* Fix Bug:  Name Class 5 And 6 Should Be System Vars And Fns

Directory trunk:

NAMECLASS.H:
  Update the copyright year.
  Renumber name classes to move 22 and 23 (sys vars & fns) to 5 and 6
    as per the EAS.

QF_FMT.C:
  Remove dependency on <nameclass.h>.

QF_NC.C:
  Renumber name classes to move 22 and 23 (sys vars & fns) to 5 and 6
    as per the EAS.

QF_NL.C:
  Define var of valid name classes and use it to validate a potential
    name class integer.


Build #734 -- Version 0.0.2.18
------------------------------

* Fix Bug:  0 {log} 0 Should Be 1 Not DOMAIN ERROR

Directory trunk:

EXTERNS.H:
  Change the default value in []IC for 0 {log} 0 from DOMAIN ERROR to 1.

INIFILE.C:
  Define a new section for Migration issues.
  Define a new keyname for []IC and 0 {log} 0.
  Define a new struct for Migration issues.
  In <ReadIniFileGlb> after reading in the CWS value for []IC, read in
    the []IC 0 {log} 0 migration level.  If it hasn't been set as yet,
    change the just read in value to the new default value and increment
    the old migration level so we don't do this again.
  In <SaveIniFile>, write out the new Migration Level values.

PF_CSTAR.C:
  Define a 2 by 2 table of []IC indices for the Boolean vs. Boolean cases.
  In <PrimFnDydCircleStarFisIvI>, use the above table instead of a
    SWITCH stmt.
  In <PrimFnDydCircleStarFisIvI>, check for the L = R case, and return
    the value 1 as the EAS says to do.
  In <PrimFnDydCircleStarFisIvI>, check the result for +/- Infinity.
  In <PrimFnDydCircleStarFisFvF>, move the 2 by 2 table to global.
  In <PrimFnDydCircleStarFisFvF>, check for the L = R case, and return
    the value 1 as the EAS says to do.


Build #733 -- Version 0.0.2.18
------------------------------

* Fix Bug:  Release Semaphore On )RESET

Directory trunk:

EXECDFN.C:
  Zero semaphore handle in PerTabData struc just in case anyone looks at it.

IMMEXEC.C:
  Fix Bug:  In <ImmExecStmtInThread>, when returning from a )RESET, if
    there's a pending exit semaphore, release it.  Without this fix,
    closing a tab with a suspended function can wait forever for the
    hExitphore semaphore to be released.

MAKEPRO.PHP:
  Strip out "static ..." lines.

TABCTRL.C:
  In <LclTabCtrlWndProc/TCM_DELETEITEM>, close the handle as we done with
    this tab.


Build #732 -- Version 0.0.2.18
------------------------------

* Change ChooseFont Dialog Sample text To Something More APL-Like

Directory trunk:

MAIN.C:
  Change the ChooseFont dialog's sample text to something
    more APL-like.


Build #731 -- Version 0.0.2.18
------------------------------

* Fix Bug:  Enlist of 'cat' (0 0{rho}0) 'dog' Crashes

Directory trunk:

PF_EPSILON.C:
  In <PrimFnMonEpsilonGlbCopy_EM>, remove special treatment
    for empty nested as they don't contribute to the result.
  In <PrimFnMonEpsilonGlbCopy_EM>, skip processing empties as
    as they don't contribute to the result.


Build #730 -- Version 0.0.2.18
------------------------------

* Fix Bug:  Disclose of (say) 'x' ({zilde}) 'y' Returns An Invalid Array (Empty Heterogeneous)

Directory trunk:

PF_RSHOE.C:
  Include missing Assertion on the incoming function.
  Handle {disclose}'x' ({zilde}) 3 differently from
         {disclose} 3  ({zilde}) 'x' in that while they
    are both 3 by 0 matrices, their prototypes differ.
  Fix Bug:  If the result is empty heterogeneous, change
    it to either char or numeric depending upon the first
    non-empty (simple scalar) item.


Build #729 -- Version 0.0.2.18
------------------------------

* Extend PV Bits To Indexed Reference Between PVs

Directory trunk:

PF_INDEX.C:
  In <ArrayIndexRefLstSimpGlb_EM_YY>, transfer PV bits from the
    name arg to the result if a suitable PV index references another PV.


Build #728 -- Version 0.0.2.18
------------------------------

* Implement Compose Operator

Directory trunk:

COMPRO.H:
  Include prototype file.

EXECFNS.C:
  Call Comnpose operator when invoked.

INITDATA.C:
  Delete unneeded comoments.
  Define <PrimFnsTab> and <PrimProtoFnsTab> entries for Compose operator.

MAKEFILE.INC:
MAKEFILE.SRC:
NARS2000.32.VCPROJ:
NARS2000.64.VCPROJ:
  Include makefile entries for the new file.

PO_DICIRCLE.C:
  Implement Compose operator.

REBAR.C:
  Document Compose operator.

TOKENIZE.C:
  Define FSA column for Compose operator.

UNICODE.H:
  Improve comments.


Directory trunk\htdocs:

INDEX-BODY.HTML:
  Document Compose operator.


Build #727 -- Version 0.0.2.18
------------------------------

* Miscellaneous Changes

Directory trunk:

MK32.BAT:
MKD32.BAT
MK64.BAT:
MKD64.BAT:
  Call local batch file W32 or W64 to setup the appropriate environment.

QF_AT.C:
  Improve comments.


Directory trunk\Extensions\aplchars\chrome\content\aplchars:

EDITOROVERLAY.JS:
  Switch Circle-Middle-Dot and MisMatch on the keyboard.
  Improve comments.


Build #726 -- Version 0.0.2.18
------------------------------

* Fix Bug:  Handle Indexed Assignment When Converting A Hetero Array to Nested

Directory trunk:

PRIMFNS.C:
  In <CopyGlbAsType_EM>, handle missing Hetero and Nested cases.


Build #725 -- Version 0.0.2.18
------------------------------

* Fix Bug:  Mismatched Line Heights In Function Display Between Line Numbers And Text

Directory trunk:

EDITCTRL.H:
  Define new message to read Edit Ctrl's line height.

EDITFCN.C:
  In <DrawLineNumsFE>, ask the Edit Ctrl for the text's line height
    and use it for the function line numbers.


Directory trunk\WineHQ:

EDITCTRL.C:
  Return the text line height in response to line height message.


Build #724 -- Version 0.0.2.18
------------------------------

* Implement Monadic DownTack As Type Primitive Function (Formerly []TYPE)

Directory trunk:

COMPRO.H:
MAKEFILE.INC:
MAKEFILE.SRC:
NARS2000.32.VCPROJ:
NARS2000.64.VCPROJ:
  Remove <qf_type.*> from list of source files.

EXECDFN.C:
  Change the name of the internal Type function from system to primitive.

EXECMFN.H:
  Name the equate for the Type primitive funcion.

PF_DTACK.C:
  Implement monadic DownTack as Type primitive function (previously []TYPE).

QF_FMT.C:
  Use symbol for Type primitive function instead of the system function.

QF_TYPE.C:
  Delete the Type system function.

REBAR.C:
  Document the Type primitive function.

SYSVARS.C:
  Remove references to the Type system function.

VERSION.RC:
  Increment version to 0.0.2.18.


Directory trunk\htdocs:

INDEX-BODY.AHTML:
  Use Tally function in Trains example.
  Document the Indices primitive function.
  Document the Tally primitive function.
  Document the Mismatch primitive function.
  Document the Type primitive function.
