Version 0.6.0.xx consists of the following Builds:


Build #2054 -- Version 0.6.0.xx
-------------------------------

* Fix Bugs In Syntax Analysis Of Trains With Variables

Directory branches/bsmith/NanTypes/htdocs:

PARSELINE.C:
  Define aliases for routines to handle more Train syntax such as (F A F) A.

PARSELINE.H:
  Reformat the Binding Strengths and Reductions tables to be more readable.
  Define more Binding Strengths so as to handle more Train syntax.
  Define more pesudo-Reductions so as to handle more Train syntax.

SYNOBJ.H:
  Reformat the Syntax Object Names table to be more readable.


Build #2052 -- Version 0.6.0.xx
-------------------------------

* Update Web Documentation

Directory branches/bsmith/NanTypes/htdocs:

CONTRIBUTORS-BODY.AHTML:
  Update year of publication for TAoCP, Vol 4A.

INDEX-BODY.AHTML:
  Update the minimum version of Windows we run on.


Build #2050 -- Version 0.6.0.xx
-------------------------------

* Fix Bug In Syntax for "(/\)A"

Directory branches/bsmith/NanTypes:

IDENTFNS.C:
  In <GetIdentityElement_EM>, pass original and prototype of right arg to the Identity Function.

INITDATA.C:
  Include in the <PrimFlags> table the Identity Function for dyadic slash function (Replicate).
  Include in the <PrimFlags> table the Identity Function for dyadic slash operator (N-wise Reduction).

PARSELINE.C:
  If <bDebugPLTrace>, display conversions from "HY" to "OP1" or "FN".
  At the end of PARSELINE_SCAN, test for "(/" and convert the "/" from "HY" to"FN".
  If <bDebugPLTrace>, at PARSELINE_VALUEERR and PARSELINE_SYNTERR display a TRACE message to mark those events.

PF_SLASH.C:
  Define the Identity Function for dyadic slash function (Replicate).

PO_SLASH.C:
  Define the Identity Function for dyadic slash operator (N-wise Reduction).

PRIMSPEC.C:
  For DEBUG purposes, distinguish between <MyGlobalLock000> and <MyGlobalLockInt>.


Build #2048 -- Version 0.6.0.xx
-------------------------------

* Sync With Version Control


Build #2046 -- Version 0.6.0.xx
-------------------------------

* Fix Bug When Pasting APL Chars

Directory branches/bsmith/NanTypes:

EDITFCN.C:
  When pasting APL chars, don't use GlobalSize as we can't rely on its value due to Windows rounding up to a 4- or 8-byte boundary.


Build #2044 -- Version 0.6.0.xx
-------------------------------

* Trap NULL Reductions As SYNTAX ERRORs

Directory branches/bsmith/NanTypes:

PARSELINE.C:
  Trap NULL reductions as SYNTAX ERRORs.


Build #2042 -- Version 0.6.0.xx
-------------------------------

* Rename MFO Locals To Avoid Conflict With User Variables

Directory branches/bsmith/NanTypes:

DEFINES.H:
MF_DIDTACK.H:
MF_DIJOT.H:
MF_DOMINO.H:
MF_DOT.H:
MF_DOTDOT.H:
MF_DSHOE.H:
MF_DYDSCAN.H:
MF_EPSUND.H:
MF_IOTA.H:
MF_IOTAUND.H:
MF_JOTDOT.H:
MF_LSHOEUND.H:
MF_MULTISET.H:
MF_QUADFMT.H:
MF_QUADJOT.H:
MF_QUADVR.H:
MF_ROS.H:
MF_SECTION.H:
MF_SHRIEK.H:
MF_SLOPE.H:
MF_SQUAD.H:
MF_USHOE.H:
MF_VARIANT.H:
PF_UTACKJOT.C:
TOKENIZE.C:
TOKENIZE.H:
  Rename MFO locals to avoid conflict with user variables.


Build #2040 -- Version 0.6.0.xx
-------------------------------

* Remove Dependency On VCOMP.LIB

Directory branches/bsmith/NanTypes:

MAKEFILE.INC:
  Remove dependency on VCOMP.LIB as we no longer require it.


Build #2038 -- Version 0.6.0.xx
-------------------------------

* DEBUG Attempt To Trap Text Cursor Problems

Directory branches/bsmith/NanTypes/WineHQ:

EDITCTRL.C:
LOCAL.H:
  DEBUG attempt to trap text cursor problems.


Build #2036 -- Version 0.6.0.xx
-------------------------------

* Fix Omission From Previous Build

Directory branches/bsmith/NanTypes:

PF_SLASH.C:
  In <PrimFnDydSlash_EM_YY/ARRAY_VFP>, accumulate in the axis length (omitted from previous build).


Build #2034 -- Version 0.6.0.xx
-------------------------------

* Handle -0 In More Cases

Directory branches/bsmith/NanTypes:

CR_PROC.C:
  When calling <mpq_QuadICValue> or <mpfr_QuadICValue>, pass the sign in case the result is FLT.

PF_COLONBAR.C:
  When calling <mpq_QuadICValue> or <mpfr_QuadICValue> , pass the sign in case the result is FLT.
  If a call to <mpq_QuadICValue> returns FALSE, convert the result to VFP.
  When dividing, if the imaginary parts are zero, treat as dividing by a single Real number.


Build #2032 -- Version 0.6.0.xx
-------------------------------

* TypeDemote Nested Scan Data

Directory branches/bsmith/NanTypes:

PO_SLOPE.C:
  TypeDemote intermediate results of nested Scans, but not so far as to an immediate.


Build #2030 -- Version 0.6.0.xx
-------------------------------

* Update Copyright Year
* Update Contributors And License Pages
* Update List Of Current Datatypes
* Move "Copy" Button In About Box

Directory branches/bsmith/NanTypes:

DEFINES.H:
  Update copyright year.

MAIN.RC:
  Update copyright year.
  Move "Copy" button in About box up so that it doesn't need to be moved again is more Verison #s are appended.
  Lengthen the About box to make room for more Version #s.

VER.C:
  Display more Version #s.


Directory branches/bsmith/NewTypes/htdocs:

CONTRIBUTORS-BODY.AHTML:
  Include more contributors.

FOOTER-MON.HTML:
FOOTER.HTML:
  Update copyright year.

INDEX-BODY.AHTML:
  Rename []DQ to []LR.
  Include Ball Arithmetic in the list of current datatypes.
  Fix error in links to Source Code.
  Update copyright year.

LICENSE-BODY.HTML:
  Indicate that the file is encoded in UTF-8.
  Update copyright year.
  Document more library license agreements.


Build #2028 -- Version 0.6.0.xx
-------------------------------

* Implement []DFT

Directory branches/bsmith/NanTypes:

COMPRO.H:
  Include prototype file.

MAKEFILE.INC:
  Include <mpfft*.*> files.
  Include <qf_dft.*> files.

MAKEFILE.SRC:
  Include <qf_dft.*> files.

NARS2000.VCXPROJ:
  Include <mpfft*.*> files.
  Include <qf_dft.*> files.

NARS2000.VCXPROJ.FILTERS:
  Include <qf_dft.*> files.

QF_DFT.C:
  New file to implement []DFT.

SYSVARS.C:
  Include []DFT in the table of System Functions.

WCOM.BAT:
  Include <mpfft*.*> files.


Build #2026 -- Version 0.6.0.xx
-------------------------------

* Allocate All Symbol Table Constants In A Single Global Hash And Symbol Table

Directory branches/bsmith/NanTypes:

DEFINES.H:
  Define GLB HshTab & SymTab constants.

EXCEPT.C:
  Change the declaration of the size parameter to <GuardAlloc> to <size_t>.

EXECMFN.C:
SAVEFCN.C:
SESSMAN.C:
  Pass the EPB value to <AllocHshTab> as they differ from GLB to others.
  Pass Boolean value to <AllocHshTab> & <AllocSymtab> to indicate whether or not to link the MEMVIRT_STR into a chain.

EXTERNS.H:
  Initialize the Boolean value that indicates whether the CSOs have been initialized.
  Define new enum for the GLB SymTab in MEMVIRTENUM.
  Change the declaration of the size parameters to <MEMVIRTSTR> to <size_t>.
  Define new table size globals which can be set via the command line.

GETFNS.C:
STARTADDR.H:
  Delete <GetSteXXXX> routines as they aren't used any more.

IDENTFNS.C:
PF_RSHOE.C:
PF_UARROW.C:
PO_SLASH.C:
PRIMFNS.C:
PRIMSPEC.C:
QF_NFNS.C:
SYSVARS.C:
TOKENIZE.C:
TYPEMOTE.C:
  Replace references to "->steXXX", for XXX in "One", "Blank", "NaN", etc. with "htsGLB.steXXX".

MAIN.C:
  In <InitInstance>, allocate the GLB HshTab and SymTab via <AllocHshTab> and <AllocSymTab>.
  In <ParseCommandLine>, allow <glbSymTabSize> and <glbHshTabSize>.
  Move all calls to <InitializeCriticalSection> to <AllocCSOs> and move the call to that routine to precede the call to <InitInstance>.
  Move all calls to <DeleteCriticalSection> to <DeleteCSOs> and call that routine from where the group of calls was.

SC_SYMB.C:
  Display the current value of the GLB HshTab & SymTab sizes from )SYMB.

SYMTAB.C:
  In <SymTabHTSLookupXXXX> use the GLB HshTab & SymTab if the caller doesn't specify.
  In <SymtabHTSAppendXXXX> ...
  Replace references to "->steXXX", for XXX in "One", "Blank", "NaN", etc. with "htsGLB.steXXX".
  Pass the EPB value to <AllocHshTab> as they differ from GLB to others.
  Pass Boolean value to <AllocHshTab> & <AllocSymtab> to indicate whether or not to link the MEMVIRT_STR into a chain.


Build #2024a -- Version 0.6.0.xx
--------------------------------

* Sync With Version Control


Build #2024 -- Version 0.6.0.xx
-------------------------------

* When calling <mpq_QuadICValue> or <mpfr_QuadICValue>, pass the sign in case the result is FLT.
* Fix Bug In Use Of <[mpfr|mpq]_QuadICValue> Where We May Double Initialize A Variable
* Define <arb_sub2> To Handle Special Case Of arb_sub (z, x, x) So That It Always Returns Zero
* Define <arb_log2> To Always Return {neg}{inf} When The Arg Is Zero.

Directory branches/bsmith/NanTypes:

PF_BAR.C:
  Fix bug in use of <[mpfr|mpq]_QuadICValue> where we may double initialize a variable.  The solution is never to return a value from these functions and always initialize the result inside the function.
  Define <arb_sub2> to handle special case of arb_sub (z, x, x) so that it always returns zero.

PF_CSTAR.C:
  Fix bug in use of <[mpfr|mpq]_QuadICValue> where we may double initialize a variable.  The solution is never to return a value from these functions and always initialize the result inside the function.
  Define <arb_log2> to always return {neg}{inf} when the arg is zero.

PF_DCARET.C:
PF_UCARET.C:
  Fix bug in the result of {floor}/{ceiling} on a Ball wider than one unit.
  Fix bug in use of <[mpfr|mpq]_QuadICValue> where we may double initialize a variable.  The solution is never to return a value from these functions and always initialize the result inside the function.

PF_PLUS.C:
PF_QDOT.C:
PF_TIMES.C:
  Fix bug in use of <[mpfr|mpq]_QuadICValue> where we may double initialize a variable.  The solution is never to return a value from these functions and always initialize the result inside the function.

PF_ROOT.C:
  Replace <arf_nan> with <arb_set_nan> so as to set both Midpoint and Radius.
  Fix bug in use of <[mpfr|mpq]_QuadICValue> where we may double initialize a variable.  The solution is never to return a value from these functions and always initialize the result inside the function.


Build #2022 -- Version 0.6.0.xx
-------------------------------

* Set []CT To Zero In Factorial Magic Function

Directory branches/bsmith/NanTypes:

MF_SHRIEK.H:
  Set []CT to zero in Factorial magic function so as to reduce the number of non-distinct cases until I can handle Jordan Canonical Form.


Build #2020 -- Version 0.6.0.xx
-------------------------------

* Swap Alt-'\' and Alt-'|' Keys To Reflect Actual Keyboard
* Define Alt-'B' as DownTackOverbar

Directory branches/bsmith/NanTypes/Extensions/aplchars:

INSTALL.RDF:
UPDATE.RDF:
  Update version #.


Directory branches/bsmith/NanTypes/Extensions/aplchars/chrome/content/aplchars:

ABOUT.XUL:
  Update version #.

EDITOROVERLAY.JS:
  Define Alt-'B' as DownTackOverbar (U+2351).
  Swap Alt-'\' and Alt-'|' to reflect the actual keyboard.


Build #2016 -- Version 0.6.0.xx
-------------------------------

* Fix Bug In MemberOf When Comparing Certain Non-Simple Items

Directory branches/bsmith/NewTypes/htdocs/download:

CONVERT.C:
  Collapse <hc[248][ifrv]_cmp> into calls to <hcX[ifrv]_cmp>.
  In <hcXf_cmp>, handle non-finite numbers specially.

PF_EPSILON.C:
  In <PrimFnDydEpsilonOther_EM> re-order the tests so as to pick up simple/global numerics first.

PF_EQUALUND.C:
  Fix bug in <PrimFnDydEqualUnderbarNested> where, under certain circumstances, only the first item is tested.

PO_DOT.C:
PO_JOTDOT.C:
PO_SLASH.C:
  Include additional argument to both <PrimFnDydSiScSiSc_EM> and <PrimFnDydSiScSiScSub_EM> so as to skip freeing the result as appropriate.

PRIMSPEC.C:
  Include additional argument to both <PrimFnDydSiScSiSc_EM> and <PrimFnDydSiScSiScSub_EM> so as to skip freeing the result as appropriate.
  In <AllocateSpaceGlbNum_LOCK>, avoid clobbering the result global memory handle if it is nested.


Build #2014 -- Version 0.6.0.xx
-------------------------------

* Update Download Page For Workspaces And Alpha Version

Directory branches/bsmith/NanTypes/htdocs/download:

DOWNLOAD-BODY.PHP:
DOWNLOAD-LEFT.HTML:
  Update download page for Alpha version now contains Ball Arithmetic, and new section on Workspaces.


Build #2012 -- Version 0.6.0.xx
-------------------------------

* Fix A Bug Where A Type Promotion Can Crash Because We're Freeing An Incomplete Var

Directory branches/bsmith/NanTypes:

PRIMSPEC.C:
  In <PrimFnDydSiScSiScSub_EM>, if a type promotion occurs, free the result as an incomplete var.


Build #2010 -- Version 0.6.0.xx
-------------------------------

* When Converting FLT to INT, Mark NaNs As Non-Integral

Directory branches/bsmith/NanTypes:

CONVERT.C:
  In <FloatToAplint_CT>, handle NaNs as non-integral.
  In <FloatTpAplint_SCT>, pass through to <FloatToAplint_CT>.


Build #2008 -- Version 0.6.0.xx
-------------------------------

* Handle -0 In More Cases

Directory branches/bsmith/NanTypes:

CR_PROC.C:
  When calling <mpq_QuadICValue> or <mpfr_QuadICValue>, pass the sign in case the result is FLT.

MPFNS.C:
  In <mpq_QuadICValue>, improve comments.
  In <mpq_QuadICValue>, return Boolean value in case the result should be -0 but MPIR doesn't support that representation.

MPIFNS.C:
  In <mpiq_div>, signal RESULT_VFP if the signs are different.

PF_COLONBAR.C:
  When calling <mpq_QuadICValue> or <mpfr_QuadICValue> , pass the sign in case the result is FLT.
  If a call to <mpq_QuadICValue> returns FALSE, convert the result to VFP.
  When dividing, if the imaginary parts are zero, treat as dividing by a single Real number.

TRANSLATE.C:
  In <TranslateQuadICValue>, handle -0 if allowed.


Build #2006 -- Version 0.6.0.xx
-------------------------------

* In <GetIdentityElement_EM>, Signal DOMAIN ERROR If No Identity Element

Directory branches/bsmith/NanTypes:

IDENTFNS.C:
  In <GetIdentityElement_EM>, change NONCE to DOMAIN error.


Build #2004 -- Version 0.6.0.xx
-------------------------------

* Implement Missing Syntax NAM F {is} NF

Directory branches/bsmith/NewTypes:

PARSELINE.C:
PARSELINE.H:
  Implement missing syntax NAM F {is} NF.
  Use WFCN instead of the literal function name.


Build #2002 -- Version 0.6.0.xx
-------------------------------

* Handle NaNs The Same as Signed Infinities As Requiring FLT Result

Directory branches/bsmith/NanTypes:

PF_USTILE.C:
  Improve comments.
  In <PrimFnMonUpStileIisF>, handle NaNs along with the signed Infinities as requiring a FLT result.

TYPEMOTE.C:
  In <TypeDemote>, handle NaNs along with the signed Infinities as requiring a FLT result.


Build #2000 -- Version 0.6.0.xx
-------------------------------

* Allow Accented Chars In []EX, )ERASE, etc.

Directory branches/bsmith/NanTypes:

DEFINES.H:
  Surround the #include "defines.h" with #ifndef NOQUADA/#endif to avoid problems with the Resource Compiler.
  Split out the accented alphabets into separate #defines.

MAIN.RC:
VER.RC:
  Surround the #include "defines.h" with #ifndef NOQUADA/#endif to avoid problems with the Resource Compiler.

QF_A.C:
  Improve comments.

QF_NC.C:
  ASlow accented chars in []EX, )ERASE, etc.

SYSVARS.C:
  Split out the accented alphabets into separate #defines.


Build #1998 -- Version 0.6.0.xx
-------------------------------

* Define Identity Elements For Left/Right Tack Functions

Directory branches/bsmith/NanTypes:

INITDATA.C:
PF_LTACK.C:
PF_RTACK.C:
  Define identity elements for Left/Right Tack functions.


Build #1996 -- Version 0.6.0.xx
-------------------------------

* Full Support For NaNs, Remove From []FEATURE

Directory branches/bsmith/NanTypes:

EXTERNS.H:
MACROS.H:
PF_CIRCLE.C:
PF_CIRCLE.MAC:
PF_DOMINO.C:
PF_STAR.C:
PRIMSPEC.C:
  Full support for NaNs, remove from []FEATURE.


Build #1994 -- Version 0.6.0.xx
-------------------------------

* Fix Bug In Epsilon On Non-Simple Datatypes

Directory branches/bsmith/NanTypes:

PF_EPSILON.C:
  Fix bug in Epsilon function on non-simple datatypes.


Build #1992 -- Version 0.6.0.xx
-------------------------------

* Implement Variant For Grade Functions To Grade All Arrays

Directory branches/bsmith/NanTypes:

PO_VARIANT.C:
PO_VARIANT.H:
  Implement a Variant of the Grade functions to grade all arrays.
  Improve comments.


Build #1990 -- Version 0.6.0.xx
-------------------------------

* In <TypeDemote> Compress Multiple Calls To <MakeGlbEntry_EM> To One

Directory branches/bsmith/NanTypes:

TYPEMOTE.C:
  In <TypeDemote> compress multiple calls to <MakeGlbEntry_EM> to one.


Build #1988 -- Version 0.6.0.xx
-------------------------------

* Fix Bug In {jot}{QuadJot} Not Handling Nested Scalars

Directory branches/bsmith/NanTypes:

DATATYPE.H:
  Improve documentation.

GETFNS.C:
  Delete unused function <GetNextVfpMem>.
  Improve comments.
  Implement function <GetNextQword>
  In <GetPrimFlagsPtr>, handle the token <TKT_FILLJOT>.

HC_PROC.H:
  Define translate table <aToSimpleAPA> just like <aToSimple> except APA -> APA.

PO_QUADJOT.C:
  Fix bug in {jot}{QuadJot} not handling nested scalars.
  Fix bug in {jot}{QuadJot} not copying HCxR and HCxV CHO numbers.
  Improve comments.


Build #1986 -- Version 0.6.0.xx
-------------------------------

* Recode Unique in C Instead Of Using A Magic Function
* Fix Bug In <IndexOf> With HC2F Values Near To Each Other, But In An Unusual Order.
* Fix Bug In <IndexOf> With HETERO/NESTED v. non-HETERO/NESTED.

Directory branches/bsmith/NanTypes:

EXECMFN.C:
EXECMFN.H:
MF_DSHOE.H:
  Remove Magic Function for Monadic DownShoe (Unique).

PF_DSHOE.C:
  In IF/WHILE stmts always compare ptr against NULL and value against 0.
  Recode Unique in C instead of using a Magic Function.

PF_IOTA.C:
  Define function <PrimFnDydIotaCom> to control whether or not <IndexOf> demotes its result.
  Fix bug in <IndexOf> with HC2F values near to each other, but in an unusual order.
  Fix bug in <IndexOf> with HETERO/NESTED v. non-HETERO/NESTED.


Build #1984 -- Version 0.6.0.xx
-------------------------------

* Fix Bug In Each/JotDot Operators Returning All NoDisplay Results

Directory branches/bsmith/NanTypes:

PO_DIERESIS.C:
PO_JOTDOT.C:
  Fix bug in Each/JotDot Operators returning all NoDisplay results but not marking its result as NoDisplay.


Build #1982 -- Version 0.6.0.xx
-------------------------------

* Fix Bug In Modulus Wth Negative Left Argument

Directory branches/bsmith/NanTypes:

PF_STILE.C:
  Fix bug in Modulus with negative left argument -- the result should be negative!

PF_STILE.MAC:
  Include file with INTERMOD_xxx macros.


Build #1980 -- Version 0.6.0.xx
-------------------------------

* Fix Bug In {floor}{NaN}

Directory branches/bsmith/NanTypes:

PF_DSTILE.C:
  Fix bug in {floor}{NaN}.


Build #1978 -- Version 0.6.0.xx
-------------------------------

* Fix DEBUG Bug When Calling <PrimFnDelStile_EM_YY>

Directory branches/bsmith/NanTypes:

PF_DELTASTILE.C:
  Fix DEBUG bug when calling <PrimFnDelStile_EM_YY>.


Build #1976 -- Version 0.6.0.xx
-------------------------------

* Fix Bug In -1 and -2 {Circle} {NaN}i0

Directory branches/bsmith/NanTypes:

FPCHO_COM.C:
MPCHO_COM.C:
  Fix bug in -1 and -2 {circle} {NaN}i0.


Build #1974 -- Version 0.6.0.xx
-------------------------------

* Fix Bug When Re-using a Global Numeric In A Loop

Directory branches/bsmith/NanTypes:

PRIMSPEC.C:
  Fix bug wen re-using a Global Numeric in a loop.  After freeing the GN, zero it so the next call to MyXXX_init won't fail.


Build #1972 -- Version 0.6.0.xx
-------------------------------

* Recode Macros As Functions

Directory branches/bsmith/NanTypes:

PF_STAR.C:
  Recode the macros from <pf_star.mac> as separate functions.

PF_STAR.MAC:
  Delete this file as its macros are recoded in <pf_star.c>.


Build #1970 -- Version 0.6.0.xx
-------------------------------

* Define DEBUG Functions To Display Common Datatypes

Directory branches/bsmith/NanTypes:

MPFNS.C:
  Define <VfpOut>, <RatOut>, and <FltOut> as helper function to display common datatypes.


Build #1968 -- Version 0.6.0.xx
-------------------------------

* Fix Bug In Axis Operator With 1+[1 1] 2 3
* Fix Bug In Axis Operator With Named Var With No Value

Directory branches/bsmith/NanTypes:

AXISFNS.C:
  Fix bug in Axis Operator with 1+[1 1] 2 3 which overwrites a memory boundary
    when calculating the axis tail starting point.

STRAND.C:
  In <MakeAxis_EM_YY>, handle the case where the named var has no value.


Build #1918 -- Version 0.6.0.xx
-------------------------------

* Implement Ball Arithmetic

Directory branches/bsmith/NanTypes:


VER.RC:
  Increment version # to 0.6.0.xx.
