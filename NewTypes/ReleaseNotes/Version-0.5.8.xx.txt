Version 0.5.8.xx consists of the following Builds:


Build #1901 -- Version 0.5.8.xx
-------------------------------

* Fix Bug When Parsing Named Indexed Assignment

Directory branches/bsmith/NewTypes:

PARSELINE.C:
  When cleaning up after parsing, don't free named objects on the left or right parsing stacks which can appear from named indexed assignment, etc.


Build #1900 -- Version 0.5.8.xx
-------------------------------

* Fix Bug In Nth Prime Function

Directory branches/bsmith/NewTypes:

PF_PI.C:
  In <PrimFnDydPi_EM_YY>, fix bug in Nth Prime function off by one when indexing the <Nth1e0PrimeTab> table.


Build #1899 -- Version 0.5.8.xx
-------------------------------

* Fix Bug Indexing A Rank > 1 Array With A Scalar

Directory branches/bsmith/NewTypes:

PF_INDEX.C:
  In <ArrayIndexSetSingLst_EM>, fix bug when indexing a rank > 1 array with a scalar:  it should signal a RANK ERROR.
  In <ArrayIndexSetSingLst_EM>, fix bug where the Set argument is nested.


Build #1898 -- Version 0.5.8.xx
-------------------------------

* Fix Bug When Calling Two Niladic Functions One Of Which Erases The Other

Directory branches/bsmith/NewTypes:

EXECDFN.C:
  In <ExecDfnOprGlb_EM_YY>, rename <lpYYFcnStr> to <lpYYFcnStrOpr> to avoid confusion with names with a similar prefix.

EXECFNS.C:
  Rename <ExecuteFn0> to <ExecuteFn0Glb> and add another arg so to as allow execution of HGLOBALs.

PARSELINE.C:
  In <plRedNF_NF>, handle the case where the first function executed erases the second function.
  In <plRedNF_NF>, execute the functions from right to left.
  Define <plExecuteFn0Glb> which allows execution of a function via its HGLOBAL.


Build #1897 -- Version 0.5.8.xx
-------------------------------

* Fix Bug In Last Build

Directory branches/bsmith/NewTypes:

PF_SQUAD.C:
  In <PrimFnDydSquadGlb_EM_YY>, handle the case when the Set argument is a singleton.


Build #1896 -- Version 0.5.8.xx
-------------------------------

* Fix Bug When Assigning Into An Array Which Forces Promotion To Hetero

Directory branches/bsmith/NewTypes:

PF_SQUAD.C:
  In <PrimFnDydSquadGlb_EM_YY>, handle the case when assigning into a simple non-hetero array which forces promotion to hetero.


Build #1895 -- Version 0.5.8.xx
-------------------------------

* Extend Index Coalescing To Indexed Assignment And Modified Indexed Assignment

Directory branches/bsmith/NewTypes:

FREE.C:
  In IF/WHILE stmts always compare ptr against NULL and value against 0.
  In <FreeTempResult>, call <FreeResult> as the subfunction instead of
    <FreeResultSub> so as to free curried items as well.

PARSELINE.C:
  Coalesce repeated indices for Indexed Assignment and Modified Indexed
    Assignment.

PF_INDEX.C:
  Fix bug in <ArrayIndexFcnSet>, so as to allow indexing into non-singleton set arguments.


Build #1894 -- Version 0.5.8.xx
-------------------------------

* Extend )DEBUG to Other Debug Contexts

Directory branches/bsmith/NewTypes:

EXTERNS.H:
SC_DEBUG.C:
SYMTAB.C:
YYFNS.C:
  Define more DEBUG levels.


Build #1893 -- Version 0.5.8.xx
-------------------------------

* Fix Bug In 3 []DR On Floating Point Numbers

Directory branches/bsmith/NewTypes:

QF_DR.C:
  Fix bug when returning the # bits of precision for floating point numbers -- should be 53 not 64.  Duh!


Build #1892 -- Version 0.5.8.xx
-------------------------------

* Fix Bug In The Magic Operator That Handles APL2's Inner Product
* Fix Bug In Magic Function For Dyadic Squad Not Catching LENGTH/AXIS ERROR.
* Fix Bug In Various Functions Using The Wrong Character Index
* Fix Bug In {enclose} When Enclosing An Empty Which Returns A Non-empty

Directory branches/bsmith/NewTypes:

AXISFNS.C:
  In IF/WHILE stmts always compare ptr against NULL and value against 0.
  Rename <CheckAxisGlb> to <CheckAxisGlb_EM> as it sets an Error Message.
  Move code from <CheckAxis_EM> to its own subroutine for better maintenance.
  In <CheckAxis_EM>, handle <TKT_LSTMULT> although <MakeAxis_EM> catches it first.

COMMON.C:
  Ensure <AllocateGlobalArray> returns a value with the Pointer Type Bits set.

CS_PROC.C:
PF_CSTILE.C:
PO_DOT.C:
  Rename <CopyToken_EM> to <CopyToken> as it does not set an Error Message.

DATATYPE.H:
  Include <RefCnt> entry in the <LSTARRAY_HEADER> struc so we can make copies.

DISPDBG.C:
  In <_ValidObj> test for valid ptr when in DEBUG mode.

EXECDFN.C:
  In <InitVarSTEs>, handle <TKT_LSTMULT> tokens as an empty Axis Array.

FREE.C:
  In <FreeResultGlobalLst>, handle list arrays with RefCnt.
  In <FreeResultGlobalFcn>, handle <TKT_LSTMULT> as a separate token.

GETFNS.C:
  In <GetGlbMem_LOCK>, handle <TKT_LSTARRAY> the same as <TKT_LSTMULT>.

MF_DOT.H:
  Fix bug in the Magic Operator that handles APL2's Inner Product.

MF_SQUAD.H:
  Fix bug in Magic Function for Dyadic Squad not catching a LENGTH/AXIS ERROR.

PARSELINE.C:
  Rename <MakeAxis_YY> to <MakeAxis_EM_YY> as it now sets an Error Message.
  Check for errors from <MakeAxis_EM>.
  Change calls to <MakeAxis_EM_YY> to reflect the above change.

PF_COMMA.C:
PF_CSLOPE.C:
PF_DARROW.C:
PF_RSHOE.C:
PF_SLASH.C:
PF_SLOPE.C:
PF_SQUAD.C:
PF_UARROW.C:
PO_SLOPE.C:
  Delete test for right arg as a list as <Parseline> doesn't allow it.
  Improve comments.

PO_SLASH.C:
QF_DC.C:
  Improve comments.

PF_LSHOE.C:
  Fix bug in <LftShoeGlbCom_EM> when enclosing an empty which returns a non-empty.
  Improve comments.

PRIMFNS.C:
  In <AttrsOfToken>, handle <TKT_LSTARRAY> the same as <TKT_LSTMULT>.
  In <IsTknTypeAxis>, handle <TKT_LSTMULT> the same as <TKT_AXISARRAY>.

REFCNT.C:
  In <ChangeRefCntDir_PTB>, handle <LSTARRAY_HEADER>s.

STARTADDR.H:
  Rename <MakeAxis_YY> to <MakeAxis_EM_YY> as it now sets an Error Message.
  Rename <CopyToken_EM> to <CopyToken> as it does not set an Error Message.

STRAND.C:
  Rename <CopyToken_EM> to <CopyToken> as it does not set an Error Message.
  Fix bug in various functions using the wrong character index.
  Rename <MakeAxis_YY> to <MakeAxis_EM_YY> as it now sets an Error Message.
  In <MakeAxis_EM_YY>, handle <TKT_LSTMULT> as an AXIS ERROR.
  In <MakeList_EM_YY>, set the list array RefCnt.
  Rename <CopyToken_EM> to <CopyToken> as it does not set an Error Message.
  In <CopyToken>, increment the RefCnt for list arrays.


Build #1891 -- Version 0.5.8.xx
-------------------------------

* Implement APL2's Definition Of Inner Product

Directory branches/bsmith/NewTypes:

AXISFNS.C:
PF_INDEX.C:
PF_IOTA.C:
PF_RSHOE.C:
PF_SQUAD.C:
  Use macro to reference FEATURENDX_NEGINDICES.

EXECMFN.C:
EXECMFN.H:
  Initialize new Magic Operator for APL2's definition of Inner Product.

EXTERNS.H:
  Define new []FEATURE value to control use of APL2's definition of Inner Product.

FREE.C:
STRAND.C:
  Fix bug of not handling empty axis operator as in {enclose}[].

MACROS.H:
  Define macro to reference FEATURENDX_NEGINDICES.

MAIN.RC:
  Widen Customize dialog to accommodate wider strings.

MF_DOT.H:
  Define new Magic Operator for APL2's definition of Inner Product.

PO_DOT.C:
  Implement APL2's definition of Inner Product.

VER.RC:
  Increment version # to 0.5.8.xx.
